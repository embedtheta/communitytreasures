/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a=(function(){var f={jY:'B8MI1HT',_:{},status:'unloaded',basePath:(function(){var i=window.CKFINDER_BASEPATH||'';if(!i){var j=document.getElementsByTagName('script');for(var k=0;k<j.length;k++){var l=j[k].src.match(/(^|.*[\\\/])CKFINDER(?:_basic)?(?:_v2)?(?:_source)?.js(?:\?.*)?$/i);if(l){i=l[1];break;}}}if(i.indexOf('://')== -1)if(i.indexOf('/')===0)i=location.href.match(/^.*?:\/\/[^\/]*/)[0]+i;else i=location.href.match(/^[^\?]*\/(?:)/)[0]+i;return i;})(),getUrl:function(i){if(i.indexOf('://')== -1&&i.indexOf('/')!==0)i=this.basePath+i;if(this.jY&&i.charAt(i.length-1)!='/')i+=(i.indexOf('?')>=0?'&':'?')+'t='+this.jY;return i;}},g=window.CKFINDER_GETURL;if(g){var h=f.getUrl;f.getUrl=function(i){return g.call(f,i)||h.call(f,i);};}return f;})();function b(f){return a.instances[f];};var c={callback:1,selectThumbnailActionFunction:1,selectActionFunction:1};a.jd=function(){var h=this;var f={};for(var g in h){if(!h.hasOwnProperty(g))continue;if(typeof h[g]=='function'&& !c[g])continue;f[g]=h[g];}if(h.callback)f.callback=h.callback;return f;};a.lj=function(f){var i=this;f=f||i.basePath;var g='';if(!f||f.length===0)f=CKFinder.DEFAULT_basePath;if(f.substr(f.length-1,1)!='/')f+='/';f+='ckfinder.html';var h;if(i.hh){h=i.hh;if(typeof h=='function')h=h.toString().match(/function ([^(]+)/)[1];g+='?action=js&amp;func='+h;}if(i.jx){g+=g?'&amp;':'?';g+='data='+encodeURIComponent(i.jx);}if(i.disableThumbnailSelection){g+=g?'&amp;':'?';g+='dts=1';}else if(i.lH||i.hh){h=i.lH||i.hh;if(typeof h=='function')h=h.toString().match(/function ([^(]+)/)[1];g+=g?'&amp;':'?';g+='thumbFunc='+h;if(i.nm)g+='&amp;tdata='+encodeURIComponent(i.nm);else if(!i.lH&&i.jx)g+='&amp;tdata='+encodeURIComponent(i.jx);}if(i.startupPath){g+=g?'&amp;':'?';g+='start='+encodeURIComponent(i.startupPath+(i.startupFolderExpanded?':1':':0'));}if(!i.rememberLastFolder){g+=g?'&amp;':'?';g+='rlf=0';}if(i.id){g+=g?'&amp;':'?';g+='id='+encodeURIComponent(i.id);}if(i.skin){g+=g?'&amp;':'?';g+='skin='+encodeURIComponent(i.skin);}return f+g;};function d(f){var i=this;i.id=f.name;var g=f.element.getDocument().getWindow().$,h=a.oC.getWindow().$;i.inPopup= ! !(g&&g.opener);i.inIframe= !i.inPopup&&g!=h.top&&g.frameElement.nodeName.toLowerCase()=='iframe';i.inFrame= !i.inPopup&&g!=h.top&&g.frameElement.nodeName.toLowerCase()=='frame';i.inUrlPopup= ! !(i.inPopup&&h.opener);};function e(f,g,h){g.on('appReady',function(i){i.removeListener();f.document=g.document.$;f.folders=g.folders;f.files=g.aG['filesview.filesview'][0].data().files;f.basketFiles=g.basketFiles;f.resourceTypes=g.resourceTypes;f.connector=g.connector;f.lang=g.lang;f.langCode=g.langCode;f.config=g.config;g.aG['foldertree.foldertree'][0].on('afterAddFolder',function(j){j.removeListener();if(h)h(f);},f);},f,null,999);};d.prototype={_:{},addFileContextMenuOption:function(f,g,h){var i=b(this.id),j='FileContextMenu_'+f.command;i.bD(j,{exec:function(m){var n=m.aG['filesview.filesview'][0].tools.dH();g(m.cg,n);}});f.command=j;if(!f.group)f.group='file1';i.gp(j,f);var k=i.aG['filesview.filesview'];for(var l=0;l<k.length;l++)k[l].on('beforeContextMenu',function o(m){if(h){var n=h(this.tools.dH());if(n)m.data.bj[j]=n== -1?a.aY:a.aS;}else m.data.bj[j]=a.aS;});},disableFileContextMenuOption:function(f,g){var h=b(this.id),i=g?'FileContextMenu_'+f:f,j=h.aG['filesview.filesview'],k=[];for(var l=0;l<j.length;l++){var m=k.push(function o(n){delete n.data.bj[i];});j[l].on('beforeContextMenu',k[m-1]);}return function(){for(var n=0;n<k.length;n++)h.aG['foldertree.foldertree'][n].removeListener('beforeContextMenu',k[n]);};},addFolderContextMenuOption:function(f,g,h){var i=b(this.id),j='FolderContextMenu_'+f.command;i.bD(j,{exec:function(m){g(m.cg,m.aV);}});f.command=j;if(!f.group)f.group='folder1';i.gp(j,f);var k=i.aG['foldertree.foldertree'];for(var l=0;l<k.length;l++)k[l].on('beforeContextMenu',function o(m){if(h){var n=h(this.app.aV);if(n)m.data.bj[j]=n== -1?a.aY:a.aS;}else m.data.bj[j]=a.aS;});},disableFolderContextMenuOption:function(f,g){var h=b(this.id),i=g?'FolderContextMenu_'+f:f,j=h.aG['foldertree.foldertree'],k=[];for(var l=0;l<j.length;l++){var m=k.push(function o(n){delete n.data.bj[i];});j[l].on('beforeContextMenu',k[m-1]);}return function(){for(var n=0;n<k.length;n++)h.aG['foldertree.foldertree'][n].removeListener('beforeContextMenu',k[n]);};},getSelectedFile:function(){return b(this.id).aG['filesview.filesview'][0].tools.dH();},getSelectedFolder:function(){return b(this.id).aV;},setUiColor:function(f){return b(this.id).setUiColor(f);},openDialog:function(f,g){var j=this;var h=new a.dom.document(window.document).eD(),i=b(j.id).document.getWindow();if(j.inFrame||j.inPopup||j.inIframe)a.document=b(j.id).document;return b(j.id).openDialog(f,g,h);},openMsgDialog:function(f,g){b(this.id).msgDialog(f,g);},openConfirmDialog:function(f,g,h){b(this.id).fe(f,g,h);},openInputDialog:function(f,g,h,i){b(this.id).hs(f,g,h,i);},addTool:function(f){return b(this.id).plugins.tools.addTool(f);},addToolPanel:function(f){return b(this.id).plugins.tools.addToolPanel(f);},removeTool:function(f){b(this.id).plugins.tools.removeTool(f);},showTool:function(f){b(this.id).plugins.tools.showTool(f);},hideTool:function(f){b(this.id).plugins.tools.hideTool(f);},getResourceType:function(f){return b(this.id).getResourceType(f);},log:function(f){a.log.apply(a.log,arguments);},getLog:function(){return a.mZ();},emptyBasket:function(){b(this.id).execCommand('TruncateBasket');},replaceUploadForm:function(f,g,h){var i=b(this.id);i.aG['formpanel.formpanel'][0].on('beforeUploadFileForm',function(j){if(j.data.step!=2)return;j.cancel(true);var k=this.data(),l=j.data.folder;try{if(k.dc=='upload')this.oW('requestUnloadForm',function(){this.app.cS('upload').bR(a.aS);});else{if(this.data().dc)this.oW('requestUnloadForm');if(!h)this.eh.removeClass('show_border');this.oW('requestLoadForm',{html:f,command:'upload'});g&&g();}}catch(m){this.oW('failedUploadFileForm',j.data);this.oW('afterUploadFileForm',j.data);throw a.ba(m);}});return{hide:function(){i.oW('requestUnloadForm',function(){i.cS('upload').bR(a.aS);});}};},resizeFormPanel:function(f){var g=b(this.id);if(typeof f=='undefined'){g.document.getById('panel_view').setStyle('height','');g.document.getById('panel_widget').setStyle('height','');}else{var h=Math.min(f,Math.max(90,g.document.getById('main_container').$.offsetHeight-300));g.document.getById('panel_view').setStyle('height',h+'px');g.document.getById('panel_widget').setStyle('height',h-3+'px');}g.layout.ea(true);},refreshOpenedFolder:function(){var f=b(this.id),g=f.aG['filesview.filesview'][0].tools.currentFolder();f.oW('requestSelectFolder',{folder:g});},selectFile:function(f){var g=b(this.id);g.oW('requestSelectFile',{file:f,scrollTo:1});},closePopup:function(){if(!this.inPopup)return;b(this.id).element.getDocument().getWindow().$.close();},openFolder:function(f,g){var h=b(this.id);g=g.replace(/\/$/,'');f=f.toLowerCase();for(var i=0;i<h.folders.length;i++){var j=h.folders[i];if(j.getPath().replace(/\/$/,'')==g&&f==j.type.toLowerCase()){h.oW('requestSelectFolder',{folder:j});h.oW('requestShowFolderFiles',{folder:j});return;}}},setUiColor:function(f){b(this.id).setUiColor(f);},execCommand:function(f){b(this.id).execCommand(f);}};(function(){window.CKFinder=function(f,g){if(f)for(var h in f){if(!f.hasOwnProperty(h))continue;if(typeof f[h]=='function'&&h!='callback')continue;this[h]=f[h];}this.callback=g;};CKFinder.prototype={create:function(f){var g='ckf'+Math.random().toString().substr(2,4);document.write('<span id="'+g+'"></span>');f=a.tools.extend(a.jd.call(this),f,true);var h=a.replace(g,f,CKFinder);this.api=h.cg;return h.cg;},appendTo:function(f,g){g=a.tools.extend(a.jd.call(this),g,true);var h=a.appendTo(f,g,CKFinder);this.api=h.cg;return h.cg;},replace:function(f,g){g=a.tools.extend(a.jd.call(this),g,true);var h=a.replace(f,g,CKFinder);this.api=h.cg;return h.cg;},popup:function(f,g){var o=this;f=f||'80%';g=g||'70%';if(typeof f=='string'&&f.length>1&&f.substr(f.length-1,1)=='%')f=parseInt(window.screen.width*parseInt(f,10)/100,10);if(typeof g=='string'&&g.length>1&&g.substr(g.length-1,1)=='%')g=parseInt(window.screen.height*parseInt(g,10)/100,10);if(f<200)f=200;if(g<200)g=200;var h=parseInt((window.screen.height-g)/2,10),i=parseInt((window.screen.width-f)/2,10),j='location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,width='+f+',height='+g+',top='+h+',left='+i,k=a.env.webkit?'about:blank':'',l=window.open(k,'CKFinderpopup',j,true);if(!l)return false;o.width=o.height='100%';var m='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><title>CKFinder 2</title><style type="text/css">body, html, iframe, #ckfinder { margin: 0; padding: 0; border: 0; width: 100%; height: 100%; overflow: hidden; }</style></head><body></body></html>',n=new a.dom.document(l.document);n.$.open();if(a.env.isCustomDomain())n.$.domain=window.document.domain;n.$.write(m);n.$.close();try{l.moveTo(i,h);l.resizeTo(f,g);l.focus();return o.appendTo(n.bH());}catch(p){return o.appendTo(n.bH());}return false;}};CKFinder._={};CKFinder.lang={};CKFinder.version='2.1';CKFinder.revision='1937';CKFinder.addPlugin=function(f,g,h){var i={bM:h||[]};if(typeof g=='function')g={appReady:g};for(var j in g){if(!g.hasOwnProperty(j))continue;if(j!='connectorInitialized'&&j!='uiReady')i[j]=g[j];}i.bz=function(k){if(g.connectorInitialized)k.on('connectorInitialized',function(l){var m=g.connectorInitialized;if(m)m.call(m,k.cg,l.data.xml);},null,null,1000);if(g.uiReady)k.on('uiReady',function(){var l=g.uiReady;l.call(l,k.cg);},null,null,1000);if(g.appReady)k.on('appReady',function(){var l=g.appReady;l.call(l,k.cg);},null,null,1000);};a.plugins.add(f,i);};CKFinder.getPluginPath=function(f){return a.plugins.getPath(f);};CKFinder.addExternalPlugin=function(f,g,h){a.plugins.tR(f,g,h);};CKFinder.setPluginLang=function(f,g,h){a.plugins.rX(f,g,h);};CKFinder.dialog={add:function(f,g){if(typeof g=='function')g=a.tools.override(g,function(h){return function(i){return h(i.cg);};});a.dialog.add(f,g);}};CKFinder.tools={};CKFinder.env={};CKFinder.dom={};CKFinder.create=function(f,g,h,i,j){var k;if(f!==null&&typeof f==='object'){k=new CKFinder();for(var l in f)k[l]=f[l];}else{k=new CKFinder();k.basePath=f;if(g)k.width=g;if(h)k.height=g;if(i)k.selectActionFunction=i;if(j)k.callback=j;}return k.create();};CKFinder.popup=function(f,g,h,i,j){var k;if(f!==null&&typeof f==='object'){k=new CKFinder();for(var l in f)k[l]=f[l];}else{k=new CKFinder();k.basePath=f;if(i)k.selectActionFunction=i;if(j)k.callback=j;}return k.popup(g,h);};CKFinder.setupFCKeditor=function(f,g,h,i){var j;if(g!==null&&typeof g==='object'){j=new CKFinder();for(var k in g){j[k]=g[k];if(k=='width'){var l=j[k]||800;if(typeof l=='string'&&l.length>1&&l.substr(l.length-1,1)=='%')l=parseInt(window.screen.width*parseInt(l,10)/100,10);f.Config.LinkBrowserWindowWidth=l;f.Config.ImageBrowserWindowWidth=l;f.Config.FlashBrowserWindowWidth=l;}else if(k=='height'){var m=j[k]||600;if(typeof m=='string'&&m.length>1&&m.substr(m.length-1,1)=='%')m=parseInt(window.screen.height*parseInt(m,10)/100,10);f.Config.LinkBrowserWindowHeight=m;f.Config.ImageBrowserWindowHeight=m;f.Config.FlashBrowserWindowHeight=m;}}}else{j=new CKFinder();j.basePath=g;}var n=j.basePath;if(n.substr(0,1)!='/'&&n.indexOf('://')== -1)n=document.location.pathname.substring(0,document.location.pathname.lastIndexOf('/')+1)+n;n=a.lj.call(j,n);var o=n.indexOf('?')!== -1?'&amp;':'?';f.Config.LinkBrowserURL=n;f.Config.ImageBrowserURL=n+o+'type='+(h||'Images');f.Config.FlashBrowserURL=n+o+'type='+(i||'Flash');var p=n.substring(0,1+n.lastIndexOf('/'));f.Config.LinkUploadURL=p+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type=Files';f.Config.ImageUploadURL=p+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(h||'Images');f.Config.FlashUploadURL=p+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(i||'Flash');};CKFinder.setupCKEditor=function(f,g,h,i){if(f===null){for(var j in CKEDITOR.instances)CKFinder.setupCKEditor(CKEDITOR.instances[j],g,h,i);CKEDITOR.on('instanceCreated',function(r){CKFinder.setupCKEditor(r.editor,g,h,i);});return;}var k;if(g!==null&&typeof g==='object'){k=new CKFinder();for(var l in g){k[l]=g[l];if(l=='width'){var m=k[l]||800;if(typeof m=='string'&&m.length>1&&m.substr(m.length-1,1)=='%')m=parseInt(window.screen.width*parseInt(m,10)/100,10);f.config.filebrowserWindowWidth=m;}else if(l=='height'){var n=k[l]||600;if(typeof n=='string'&&n.length>1&&n.substr(n.length-1,1)=='%')n=parseInt(window.screen.height*parseInt(n,10)/100,10);f.config.filebrowserWindowHeight=m;}}}else{k=new CKFinder();k.basePath=g;}var o=k.basePath;if(o.substr(0,1)!='/'&&o.indexOf('://')== -1)o=document.location.pathname.substring(0,document.location.pathname.lastIndexOf('/')+1)+o;o=a.lj.call(k,o);var p=o.indexOf('?')!== -1?'&amp;':'?';f.config.filebrowserBrowseUrl=o;f.config.filebrowserImageBrowseUrl=o+p+'type='+(h||'Images');f.config.filebrowserFlashBrowseUrl=o+p+'type='+(i||'Flash');var q=o.substring(0,1+o.lastIndexOf('/'));f.config.filebrowserUploadUrl=q+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type=Files';f.config.filebrowserImageUploadUrl=q+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(h||'Images');f.config.filebrowserFlashUploadUrl=q+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(i||'Flash');};})();if(!a.event){a.event=function(){};a.event.du=function(f,g){var h=a.event.prototype;for(var i in h){if(f[i]==undefined)f[i]=h[i];}};a.event.prototype=(function(){var f=function(h){var i=h.kk&&h.kk()||h._||(h._={});return i.cC||(i.cC={});},g=function(h){this.name=h;this.dF=[];};g.prototype={mi:function(h){for(var i=0,j=this.dF;i<j.length;i++){if(j[i].gg==h)return i;}return-1;}};return{on:function(h,i,j,k,l){var m=f(this),n=m[h]||(m[h]=new g(h));if(n.mi(i)<0){var o=n.dF;if(!j)j=this;if(isNaN(l))l=10;var p=this,q=function(s,t,u,v){var w={name:h,jN:this,application:s,data:t,jO:k,stop:u,cancel:v,removeListener:function(){p.removeListener(h,i);}};i.call(j,w);return w.data;};q.gg=i;q.nT=l;for(var r=o.length-1;r>=0;r--){if(o[r].nT<=l){o.splice(r+1,0,q);return;}}o.unshift(q);}},oW:(function(){var h=false,i=function(){h=true;},j=false,k=function(l){j=l?2:true;};return function w(l,m,n,o){if(typeof m=='function'){o=m;m=null;}else if(typeof n=='function'){o=n;n=null;}if(l!='mousemove')a.log('[EVENT] '+l,m,o);var p=f(this)[l],q=h,r=j;h=j=false;if(p){var s=p.dF;if(s.length){s=s.slice(0);for(var t=0;t<s.length;t++){var u=s[t].call(this,n,m,i,k);if(typeof u!='undefined')m=u;if(h||j&&j!=2)break;}}}var v=j||(typeof m=='undefined'?false: !m||typeof m.result=='undefined'?m:m.result);if(typeof o==='function'&&j!=2)v=o.call(this,j,m)||v;h=q;j=r;return v;};})(),cr:function(h,i,j){var k=this.oW(h,i,j);delete f(this)[h];return k;},removeListener:function(h,i){var j=f(this)[h];if(j){var k=j.mi(i);if(k>=0)j.dF.splice(k,1);}},mF:function(){var h=f(this);for(var i=0;i<h.length;i++)h[i].dF=[];},rC:function(h){var i=f(this)[h];return i&&i.dF.length>0;}};})();}if(!a.application){a.kZ=0;a.fc=1;a.qE=2;a.application=function(f,g,h,i){var j=this;j._={kw:f,element:g};j.ff=h||a.kZ;a.event.call(j);j.iI(i);};a.application.replace=function(f,g,h){var i=f;if(typeof i!='object'){i=document.getElementById(f);if(!i){var j=0,k=document.getElementsByName(f);while((i=k[j++])&&i.tagName.toLowerCase()!='textarea'){}}if(!i)throw '[CKFINDER.application.replace] The element with id or name "'+f+'" was not found.';}return new a.application(g,i,a.fc,h);};a.application.appendTo=function(f,g,h){if(typeof f!='object'){f=document.getElementById(f);if(!f)throw '[CKFINDER.application.appendTo] The element with id "'+f+'" was not found.';}return new a.application(g,f,a.qE,h);};a.application.prototype={iI:function(){var f=a.application.eb||(a.application.eb=[]);f.push(this);},oW:function(f,g,h){return a.event.prototype.oW.call(this,f,g,this,h);},cr:function(f,g,h){return a.event.prototype.cr.call(this,f,g,this,h);}};a.event.du(a.application.prototype,true);}if(!a.env){a.env=(function(){var f=navigator.userAgent.toLowerCase(),g=window.opera,h={ie:
/*@cc_on!@*/false,opera: ! !g&&g.version,webkit:f.indexOf(' applewebkit/')> -1,air:f.indexOf(' adobeair/')> -1,mac:f.indexOf('macintosh')> -1,quirks:document.compatMode=='BackCompat',isCustomDomain:function(){return this.ie&&document.domain!=window.location.hostname;}};h.gecko=navigator.product=='Gecko'&& !h.webkit&& !h.opera;var i=0;if(h.ie){i=parseFloat(f.match(/msie (\d+)/)[1]);h.ie8= ! !document.documentMode;h.ie8Compat=document.documentMode==8;h.ie7Compat=i==7&& !document.documentMode||document.documentMode==7;h.ie6Compat=i<7||h.quirks;}if(h.gecko){var j=f.match(/rv:([\d\.]+)/);if(j){j=j[1].split('.');i=j[0]*10000+(j[1]||0)*100+ +(j[2]||0);}h.isMobile=f.indexOf('fennec')> -1;}if(h.opera){i=parseFloat(g.version());h.isMobile=f.indexOf('opera mobi')> -1;}if(h.air)i=parseFloat(f.match(/ adobeair\/(\d+)/)[1]);if(h.webkit){i=parseFloat(f.match(/ applewebkit\/(\d+)/)[1]);h.isMobile=f.indexOf('mobile')> -1;}h.version=i;h.isCompatible=h.ie&&i>=6||h.gecko&&i>=10801||h.opera&&i>=9.5||h.air&&i>=1||h.webkit&&i>=522||false;h.cssClass='browser_'+(h.ie?'ie':h.gecko?'gecko':h.opera?'opera':h.air?'air':h.webkit?'webkit':'unknown');if(h.quirks)h.cssClass+=' browser_quirks';if(h.ie){h.cssClass+=' browser_ie'+(h.version<7?'6':h.version>=8?'8':'7');if(h.quirks)h.cssClass+=' browser_iequirks';}if(h.gecko&&i<10900)h.cssClass+=' browser_gecko18';return h;})();CKFinder.env=a.env;}var f=a.env;var g=f.ie;if(a.status=='unloaded')(function(){a.event.du(a);a.dO=function(){if(a.status!='basic_ready'){a.dO.qr=true;return;}delete a.dO;var i=document.createElement('script');i.type='text/javascript';i.src=a.basePath+'ckfinder.js';document.getElementsByTagName('head')[0].appendChild(i);};a.mS=0;a.uQ='ckfinder';a.uM=true;var h=function(i,j,k,l){if(f.isCompatible){if(a.dO)a.dO();var m=k(i,j,l);a.add(m);return m;}return null;};a.replace=function(i,j,k){return h(i,j,a.application.replace,k);};a.appendTo=function(i,j,k){return h(i,j,a.application.appendTo,k);};a.add=function(i){var j=this._.io||(this._.io=[]);j.push(i);};a.uL=function(){var i=document.getElementsByTagName('textarea');for(var j=0;j<i.length;j++){var k=null,l=i[j],m=l.name;if(!l.name&& !l.id)continue;if(typeof arguments[0]=='string'){var n=new RegExp('(?:^| )'+arguments[0]+'(?:$| )');if(!n.test(l.className))continue;}else if(typeof arguments[0]=='function'){k={};if(arguments[0](l,k)===false)continue;}this.replace(l,k);}};(function(){var i=function(){var j=a.dO,k=a.mS;a.status='basic_ready';if(j&&j.qr)j();else if(k)setTimeout(function(){if(a.dO)a.dO();},k*1000);};if(window.addEventListener)window.addEventListener('load',i,false);else if(window.attachEvent)window.attachEvent('onload',i);})();a.status='basic_loaded';})();a.dom={};CKFinder.dom=a.dom;var h=a.dom;a.ajax=(function(){var i=function(){if(!g||location.protocol!='file:')try{return new XMLHttpRequest();}catch(n){}try{return new ActiveXObject('Msxml2.XMLHTTP');}catch(o){}try{return new ActiveXObject('Microsoft.XMLHTTP');}catch(p){}return null;},j=function(n){return n.readyState==4&&(n.status>=200&&n.status<300||n.status==304||n.status===0||n.status==1223);},k=function(n){if(j(n))return n.responseText;return null;},l=function(n){if(j(n)){var o=n.responseXML,p=new a.xml(o&&o.firstChild&&o.documentElement&&o.documentElement.nodeName!='parsererror'?o:n.responseText.replace(/^[^<]+/,'').replace(/[^>]+$/,''));if(p&&p.mq&&p.mq.documentElement&&p.mq.documentElement.nodeName!='parsererror'&&p.mq.documentElement.nodeName!='html'&&p.mq.documentElement.nodeName!='br')return p;}var q=a.eq||a.jt,r=n.responseText,s=q.lang.ErrorMsg[!r?'XmlEmpty':'XmlError']+'<br>';if(p&&p.mq)if(p.mq.parseError&&p.mq.parseError.reason)s+=p.mq.parseError.reason;else if(p.mq.documentElement&&p.mq.documentElement.nodeName=='parsererror')s+=p.mq.documentElement.textContent;if(!r)q.msgDialog(q.lang.SysErrorDlgTitle,s);else{if(/text\/plain/.test(n.getResponseHeader('Content-Type'))||/<Connector\s*/.test(r)){r=a.tools.htmlEncode(r);r=r.replace(/\n/g,'<br>');r='<div style="width:600px; overflow:scroll"><font>'+r+'</font></div>';}q.msgDialog(q.lang.SysErrorDlgTitle,s+'<br>'+q.lang.ErrorMsg.XmlRawResponse.replace('%s','<br><br>'+r));}return{};},m=function(n,o,p,q){var r= ! !o;a.log('[AJAX] POST '+n);var s=i();if(!s)return null;if(!q)s.open('GET',n,r);else s.open('POST',n,r);if(r)s.onreadystatechange=function(){if(s.readyState==4){o(p(s));s=null;}};if(q){s.setRequestHeader('Content-type','application/x-www-form-urlencoded');s.send(q);}else s.send(null);return r?'':p(s);};return{load:function(n,o,p){return m(n,o,k,p);},loadXml:function(n,o,p){return m(n,o,l,p);}};})();CKFinder.ajax=a.ajax;(function(){var i=[];a.tools={arrayCompare:function(j,k){if(!j&& !k)return true;if(!j|| !k||j.length!=k.length)return false;for(var l=0;l<j.length;l++){if(j[l]!=k[l])return false;}return true;},clone:function(j){var k;if(j&&j instanceof Array){k=[];for(var l=0;l<j.length;l++)k[l]=this.clone(j[l]);return k;}if(j===null||typeof j!='object'||j instanceof String||j instanceof Number||j instanceof Boolean||j instanceof Date)return j;k=new j.constructor();for(var m in j){var n=j[m];k[m]=this.clone(n);}return k;},capitalize:function(j){return j.charAt(0).toUpperCase()+j.substring(1).toLowerCase();},extend:function(j){var k=arguments.length,l,m;if(typeof(l=arguments[k-1])=='boolean')k--;else if(typeof(l=arguments[k-2])=='boolean'){m=arguments[k-1];k-=2;}for(var n=1;n<k;n++){var o=arguments[n];for(var p in o){if(l===true||j[p]==undefined)if(!m||p in m)j[p]=o[p];}}return j;},prototypedCopy:function(j){var k=function(){};k.prototype=j;return new k();},isArray:function(j){return! !j&&j instanceof Array;},cssStyleToDomStyle:(function(){var j=document.createElement('div').style,k=typeof j.cssFloat!='undefined'?'cssFloat':typeof j.styleFloat!='undefined'?'styleFloat':'float';return function(l){if(l=='float')return k;else return l.replace(/-./g,function(m){return m.substr(1).toUpperCase();});};})(),htmlEncode:function(j){var k=function(o){var p=new h.element('span');p.setText(o);return p.getHtml();},l=k('\n').toLowerCase()=='<br>'?function(o){return k(o).replace(/<br>/gi,'\n');}:k,m=k('>')=='>'?function(o){return l(o).replace(/>/g,'&gt;');}:l,n=k('  ')=='&nbsp; '?function(o){return m(o).replace(/&nbsp;/g,' ');}:m;this.htmlEncode=n;return this.htmlEncode(j);},getNextNumber:(function(){var j=0;return function(){return++j;};})(),override:function(j,k){return k(j);},setTimeout:function(j,k,l,m,n){if(!n)n=window;if(!l)l=n;return n.setTimeout(function(){if(m)j.apply(l,[].concat(m));else j.apply(l);},k||0);},trim:(function(){var j=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(k){return k?k.replace(j,''):null;};})(),ltrim:(function(){var j=/^[ \t\n\r]+/g;return function(k){return k?k.replace(j,''):null;};})(),rtrim:(function(){var j=/[ \t\n\r]+$/g;return function(k){return k?k.replace(j,''):null;};})(),indexOf:Array.prototype.indexOf?function(j,k){return j.indexOf(k);}:function(j,k){for(var l=0,m=j.length;l<m;l++){if(j[l]===k)return l;}return-1;},bind:function(j,k){return function(){return j.apply(k,arguments);};},createClass:function(j){var k=j.$,l=j.base,m=j.vd||j._,n=j.ej,o=j.statics;if(m){var p=k;k=function(){var t=this;var q=t._||(t._={});for(var r in m){var s=m[r];q[r]=typeof s=='function'?a.tools.bind(s,t):s;}p.apply(t,arguments);};}if(l){k.prototype=this.prototypedCopy(l.prototype);k.prototype['constructor']=k;k.prototype.base=function(){this.base=l.prototype.base;l.apply(this,arguments);this.base=arguments.callee;};}if(n)this.extend(k.prototype,n,true);if(o)this.extend(k,o,true);return k;},addFunction:function(j,k){return i.push(function(){j.apply(k||this,arguments);})-1;},removeFunction:function(j){i[j]=null;},callFunction:function(j){var k=i[j];return k.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var j=/^\d+(?:\.\d+)?$/;return function(k){return k+(j.test(k)?'px':'');};})(),repeat:function(j,k){return new Array(k+1).join(j);},deepCopy:function(j){var k={};if(typeof j=='object'){if(typeof j.length!='undefined')k=[];for(var l in j){if(j[l]===null)k[l]=j[l];else if(typeof j[l]=='object')k[l]=a.tools.deepCopy(j[l]);else if(typeof j[l]=='string')k[l]=j[l];else if(typeof j[l]=='number')k[l]=j[l];else if(typeof j[l]=='boolean')j[l]===true?k[l]=true:k[l]=false;}}return k;},getUrlParam:function(j,k){var l=new RegExp('(?:[?&]|&amp;)'+j+'=([^&]+)','i'),m=(k||window).location.search.match(l);return m&&m.length>1?m[1]:null;},htmlEncode:function(j){if(!j)return '';j=typeof j!='string'?j.toString():j;j=j.replace(/&/g,'&amp;');j=j.replace(/</g,'&lt;');j=j.replace(/>/g,'&gt;');return j;},setCookie:function(j,k,l){document.cookie=j+'='+k+(!l?'; expires=Thu, 6 Oct 2016 01:00:00 UTC; path=/':'');},getCookie:function(j){var k=document.cookie.match(new RegExp('(^|\\s|;)'+j+'=([^;]*)'));return k&&k.length>0?k[2]:'';},mH:function(j){if(g){j.$.onfocusin=function(){j.addClass('focus_inside');};j.$.onfocusout=function(){j.removeClass('focus_inside');};}else{j.$.addEventListener('focus',function(){j.addClass('focus_inside');},true);j.$.addEventListener('blur',function(){j.removeClass('focus_inside');},true);}}};CKFinder._.callFunction=a.tools.callFunction;CKFinder.tools=a.tools;})();var i=a.tools;h.event=function(j){this.$=j;};h.event.prototype={oV:function(){return this.$.keyCode||this.$.which;},db:function(){var k=this;var j=k.oV();if(k.$.ctrlKey||k.$.metaKey)j+=a.bP;if(k.$.shiftKey)j+=a.dy;if(k.$.altKey)j+=a.eJ;return j;},preventDefault:function(j){var k=this.$;if(k.preventDefault)k.preventDefault();else k.returnValue=false;if(j)this.stopPropagation();},stopPropagation:function(){var j=this.$;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;},bK:function(){var j=this.$.target||this.$.srcElement;return j?new h.bi(j):null;}};a.bP=1000;a.dy=2000;a.eJ=4000;h.dE=function(j){if(j)this.$=j;};h.dE.prototype=(function(){var j=function(k,l){return function(m){if(typeof a!='undefined')k.oW(l,new h.event(m));};};return{kk:function(){var k;if(!(k=this.dw('_')))this.fL('_',k={});return k;},on:function(k){var n=this;var l=n.dw('_cke_nativeListeners');if(!l){l={};n.fL('_cke_nativeListeners',l);}if(!l[k]){var m=l[k]=j(n,k);if(n.$.addEventListener&& !g)n.$.addEventListener(k,m,! !a.event.jP);else if(n.$.attachEvent)n.$.attachEvent('on'+k,m);}return a.event.prototype.on.apply(n,arguments);},removeListener:function(k){var n=this;a.event.prototype.removeListener.apply(n,arguments);if(!n.rC(k)){var l=n.dw('_cke_nativeListeners'),m=l&&l[k];if(m){if(n.$.removeEventListener)n.$.removeEventListener(k,m,false);else if(n.$.detachEvent)n.$.detachEvent('on'+k,m);delete l[k];}}}};})();(function(j){var k={};j.equals=function(l){return l&&l.$===this.$;};j.fL=function(l,m){var n=this.iY(),o=k[n]||(k[n]={});o[l]=m;return this;};j.dw=function(l){var m=this.$.dj,n=m&&k[m];return n&&n[l];};j.jF=function(l){var m=this.$.dj,n=m&&k[m],o=n&&n[l];if(typeof o!='undefined')delete n[l];return o||null;};j.iY=function(){return this.$.dj||(this.$.dj=i.getNextNumber());};a.event.du(j);})(h.dE.prototype);h.window=function(j){h.dE.call(this,j);};h.window.prototype=new h.dE();i.extend(h.window.prototype,{focus:function(){if(f.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},eR:function(){var j=this.$.document,k=j.compatMode=='CSS1Compat';return{width:(k?j.documentElement.clientWidth:j.body.clientWidth)||0,height:(k?j.documentElement.clientHeight:j.body.clientHeight)||0};},hV:function(){var j=this.$;if('pageXOffset'in j)return{x:j.pageXOffset||0,y:j.pageYOffset||0};else{var k=j.document;return{x:k.documentElement.scrollLeft||k.body.scrollLeft||0,y:k.documentElement.scrollTop||k.body.scrollTop||0};}}});h.document=function(j){h.dE.call(this,j);};var j=h.document;j.prototype=new h.dE();i.extend(j.prototype,{pb:function(k){if(this.$.createStyleSheet)this.$.createStyleSheet(k);else{var l=new h.element('link');l.setAttributes({rel:'stylesheet',type:'text/css',href:k});this.eD().append(l);}},createElement:function(k,l){var m=new h.element(k,this);if(l){if(l.attributes)m.setAttributes(l.attributes);if(l.gS)m.setStyles(l.gS);}return m;},jT:function(k){return new h.text(k,this);},focus:function(){this.getWindow().focus();},getById:function(k){var l=this.$.getElementById(k);return l?new h.element(l):null;},vu:function(k,l){var m=this.$.documentElement;for(var n=0;m&&n<k.length;n++){var o=k[n];if(!l){m=m.childNodes[o];continue;}var p= -1;for(var q=0;q<m.childNodes.length;q++){var r=m.childNodes[q];if(l===true&&r.nodeType==3&&r.previousSibling&&r.previousSibling.nodeType==3)continue;p++;if(p==o){m=r;break;}}}return m?new h.bi(m):null;},eG:function(k,l){if(!g&&l)k=l+':'+k;return new h.iT(this.$.getElementsByTagName(k));},eD:function(){var k=this.$.getElementsByTagName('head')[0];k=new h.element(k);return(this.eD=function(){return k;})();},bH:function(){var k=new h.element(this.$.body);return(this.bH=function(){return k;})();},gT:function(){var k=new h.element(this.$.documentElement);return(this.gT=function(){return k;})();},getWindow:function(){var k=new h.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return k;})();}});h.bi=function(k){if(k){switch(k.nodeType){case a.cv:return new h.element(k);case a.fl:return new h.text(k);}h.dE.call(this,k);}return this;};h.bi.prototype=new h.dE();a.cv=1;a.fl=3;a.va=8;a.om=11;a.oh=0;a.op=1;a.gW=2;a.gX=4;a.mo=8;a.lF=16;i.extend(h.bi.prototype,{appendTo:function(k,l){k.append(this,l);return k;},clone:function(k,l){var m=this.$.cloneNode(k);if(!l){var n=function(o){if(o.nodeType!=a.cv)return;o.removeAttribute('id',false);o.removeAttribute('dj',false);var p=o.childNodes;for(var q=0;q<p.length;q++)n(p[q]);};n(m);}return new h.bi(m);},gE:function(){return! !this.$.previousSibling;},ge:function(){return! !this.$.nextSibling;},kB:function(k){k.$.parentNode.insertBefore(this.$,k.$.nextSibling);return k;},insertBefore:function(k){k.$.parentNode.insertBefore(this.$,k.$);return k;},vP:function(k){this.$.parentNode.insertBefore(k.$,this.$);return k;},lU:function(k){var l=[],m=this.getDocument().$.documentElement,n=this.$;while(n&&n!=m){var o=n.parentNode,p= -1;for(var q=0;q<o.childNodes.length;q++){var r=o.childNodes[q];if(k&&r.nodeType==3&&r.previousSibling&&r.previousSibling.nodeType==3)continue;p++;if(r==n)break;}l.unshift(p);n=n.parentNode;}return l;},getDocument:function(){var k=new j(this.$.ownerDocument||this.$.parentNode.ownerDocument);return(this.getDocument=function(){return k;})();},vA:function(){var k=this.$,l=k.parentNode&&k.parentNode.firstChild,m= -1;while(l){m++;if(l==k)return m;l=l.nextSibling;}return-1;},hL:function(k,l,m){if(m&& !m.call){var n=m;m=function(q){return!q.equals(n);};}var o= !k&&this.getFirst&&this.getFirst(),p;if(!o){if(this.type==a.cv&&m&&m(this,true)===false)return null;o=this.dG();}while(!o&&(p=(p||this).getParent())){if(m&&m(p,true)===false)return null;o=p.dG();}if(!o)return null;if(m&&m(o)===false)return null;if(l&&l!=o.type)return o.hL(false,l,m);return o;},hZ:function(k,l,m){if(m&& !m.call){var n=m;m=function(q){return!q.equals(n);};}var o= !k&&this.dB&&this.dB(),p;if(!o){if(this.type==a.cv&&m&&m(this,true)===false)return null;o=this.cf();}while(!o&&(p=(p||this).getParent())){if(m&&m(p,true)===false)return null;o=p.cf();}if(!o)return null;if(m&&m(o)===false)return null;if(l&&o.type!=l)return o.hZ(false,l,m);return o;},cf:function(k){var l=this.$,m;do{l=l.previousSibling;m=l&&new h.bi(l);}while(m&&k&& !k(m));return m;},vs:function(){return this.cf(function(k){return k.$.nodeType==1;});},dG:function(k){var l=this.$,m;do{l=l.nextSibling;m=l&&new h.bi(l);}while(m&&k&& !k(m));return m;},vk:function(){return this.dG(function(k){return k.$.nodeType==1;});},getParent:function(){var k=this.$.parentNode;return k&&k.nodeType==1?new h.bi(k):null;},vn:function(k){var l=this,m=[];do m[k?'push':'unshift'](l);while(l=l.getParent());return m;},vv:function(k){var m=this;if(k.equals(m))return m;if(k.contains&&k.contains(m))return k;var l=m.contains?m:m.getParent();do{if(l.contains(k))return l;}while(l=l.getParent());return null;},gz:function(k){var l=this.$,m=k.$;if(l.compareDocumentPosition)return l.compareDocumentPosition(m);if(l==m)return a.oh;if(this.type==a.cv&&k.type==a.cv){if(l.contains){if(l.contains(m))return a.lF+a.gX;if(m.contains(l))return a.mo+a.gW;}if('sourceIndex'in l)return l.sourceIndex<0||m.sourceIndex<0?a.op:l.sourceIndex<m.sourceIndex?a.gX:a.gW;}var n=this.lU(),o=k.lU(),p=Math.min(n.length,o.length);for(var q=0;q<=p-1;q++){if(n[q]!=o[q]){if(q<p)return n[q]<o[q]?a.gX:a.gW;break;}}return n.length<o.length?a.lF+a.gX:a.mo+a.gW;},vw:function(k,l){var m=this.$;if(!l)m=m.parentNode;while(m){if(m.nodeName&&m.nodeName.toLowerCase()==k)return new h.bi(m);m=m.parentNode;}return null;},vX:function(k,l){var m=this.$;if(!l)m=m.parentNode;while(m){if(m.nodeName&&m.nodeName.toLowerCase()==k)return true;m=m.parentNode;}return false;},move:function(k,l){k.append(this.remove(),l);},remove:function(k){var l=this.$,m=l.parentNode;if(m){if(k)for(var n;n=l.firstChild;)m.insertBefore(l.removeChild(n),l);m.removeChild(l);}return this;},replace:function(k){this.insertBefore(k);k.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var n=this;var k;while(n.getFirst&&(k=n.getFirst())){if(k.type==a.fl){var l=i.ltrim(k.getText()),m=k.hJ();if(!l){k.remove();continue;}else if(l.length<m){k.split(m-l.length);n.$.removeChild(n.$.firstChild);}}break;}},rtrim:function(){var n=this;var k;while(n.dB&&(k=n.dB())){if(k.type==a.fl){var l=i.rtrim(k.getText()),m=k.hJ();if(!l){k.remove();continue;}else if(l.length<m){k.split(l.length);n.$.lastChild.parentNode.removeChild(n.$.lastChild);}}break;}if(!g&& !f.opera){k=n.$.lastChild;if(k&&k.type==1&&k.nodeName.toLowerCase()=='br')k.parentNode.removeChild(k);}}});h.iT=function(k){this.$=k;};h.iT.prototype={count:function(){return this.$.length;},getItem:function(k){var l=this.$[k];return l?new h.bi(l):null;}};h.element=function(k,l){if(typeof k=='string')k=(l?l.$:document).createElement(k);h.dE.call(this,k);};var k=h.element;k.eB=function(l){return l&&(l.$?l:new k(l));};k.prototype=new h.bi();k.kE=function(l,m){var n=new k('div',m);n.setHtml(l);return n.getFirst().remove();};k.rS=function(l,m,n,o){var p=m.dw('list_marker_id')||m.fL('list_marker_id',i.getNextNumber()).dw('list_marker_id'),q=m.dw('list_marker_names')||m.fL('list_marker_names',{}).dw('list_marker_names');l[p]=m;q[n]=1;return m.fL(n,o);};k.sM=function(l){for(var m in l)k.qZ(l,l[m],true);};k.qZ=function(l,m,n){var o=m.dw('list_marker_names'),p=m.dw('list_marker_id');for(var q in o)m.jF(q);m.jF('list_marker_names');if(n){m.jF('list_marker_id');delete l[p];}};i.extend(k.prototype,{type:a.cv,addClass:function(l){var m=this.$.className;if(m){var n=new RegExp('(?:^|\\s)'+l+'(?:\\s|$)','');if(!n.test(m))m+=' '+l;}this.$.className=m||l;},removeClass:function(l){var m=this.getAttribute('class');if(m){var n=new RegExp('(?:^|\\s+)'+l+'(?=\\s|$)','i');if(n.test(m)){m=m.replace(n,'').replace(/^\s+/,'');if(m)this.setAttribute('class',m);else this.removeAttribute('class');}}},hasClass:function(l){var m=new RegExp('(?:^|\\s+)'+l+'(?=\\s|$)','');return m.test(this.getAttribute('class'));},append:function(l,m){var n=this;if(typeof l=='string')l=n.getDocument().createElement(l);if(m)n.$.insertBefore(l.$,n.$.firstChild);else n.$.appendChild(l.$);a.log('[DOM] DOM flush into '+n.getName());return l;},appendHtml:function(l){var n=this;if(!n.$.childNodes.length)n.setHtml(l);else{var m=new k('div',n.getDocument());m.setHtml(l);m.jg(n);}},appendText:function(l){if(this.$.text!=undefined)this.$.text+=l;else this.append(new h.text(l));},pd:function(){var m=this;var l=m.dB();while(l&&l.type==a.fl&& !i.rtrim(l.getText()))l=l.cf();if(!l|| !l.is|| !l.is('br'))m.append(f.opera?m.getDocument().jT(''):m.getDocument().createElement('br'));},tV:function(l){var o=this;var m=new h.mk(o.getDocument());m.setStartAfter(o);m.setEndAfter(l);var n=m.extractContents();m.insertNode(o.remove());n.kA(o);},contains:g||f.webkit?function(l){var m=this.$;return l.type!=a.cv?m.contains(l.getParent().$):m!=l.$&&m.contains(l.$);}:function(l){return! !(this.$.compareDocumentPosition(l.$)&16);},focus:function(){try{this.$.focus();}catch(l){}},getHtml:function(){return this.$.innerHTML;},vi:function(){var m=this;if(m.$.outerHTML)return m.$.outerHTML.replace(/<\?[^>]*>/,'');var l=m.$.ownerDocument.createElement('div');l.appendChild(m.$.cloneNode(true));return l.innerHTML;},setHtml:function(l){a.log('[DOM] DOM flush into '+this.getName());return this.$.innerHTML=l;},setText:function(l){k.prototype.setText=this.$.innerText!=undefined?function(m){a.log('[DOM] Text flush');return this.$.innerText=m;}:function(m){a.log('[DOM] Text flush');return this.$.textContent=m;};return this.setText(l);},getAttribute:(function(){var l=function(m){return this.$.getAttribute(m,2);};if(g&&(f.ie7Compat||f.ie6Compat))return function(m){var o=this;switch(m){case 'class':m='className';break;case 'tabindex':var n=l.call(o,m);if(n!==0&&o.$.tabIndex===0)n=null;return n;break;case 'checked':return o.$.checked;break;case 'style':return o.$.style.cssText;}return l.call(o,m);};else return l;})(),getChildren:function(){return new h.iT(this.$.childNodes);},getComputedStyle:g?function(l){return this.$.currentStyle[i.cssStyleToDomStyle(l)];}:function(l){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(l);},pf:function(){var l=a.ga[this.getName()];this.pf=function(){return l;};return l;},eG:j.prototype.eG,vp:g?function(){var l=this.$.tabIndex;if(l===0&& !a.ga.ug[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)l= -1;return l;}:f.webkit?function(){var l=this.$.tabIndex;if(l==undefined){l=parseInt(this.getAttribute('tabindex'),10);if(isNaN(l))l= -1;}return l;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},dS:function(){return this.$.id||null;},data:function(l,m){l='data-'+l;if(m===undefined)return this.getAttribute(l);else if(m===false)this.removeAttribute(l);else this.setAttribute(l,m);return null;},vm:function(){return this.$.name||null;},getName:function(){var l=this.$.nodeName.toLowerCase();if(g){var m=this.$.scopeName;if(m!='HTML')l=m.toLowerCase()+':'+l;}return(this.getName=function(){return l;})();},getValue:function(){return this.$.value;},getFirst:function(){var l=this.$.firstChild;return l?new h.bi(l):null;},dB:function(l){var m=this.$.lastChild,n=m&&new h.bi(m);if(n&&l&& !l(n))n=n.cf(l);return n;},rd:function(l){return this.$.style[i.cssStyleToDomStyle(l)];},is:function(){var l=this.getName();for(var m=0;m<arguments.length;m++){if(arguments[m]==l)return true;}return false;},vL:function(){var l=this.getName(),m= !a.ga.uj[l]&&(a.ga[l]||a.ga.span);return m&&m['#'];},isIdentical:function(l){if(this.getName()!=l.getName())return false;var m=this.$.attributes,n=l.$.attributes,o=m.length,p=n.length;if(!g&&o!=p)return false;for(var q=0;q<o;q++){var r=m[q];if((!g||r.specified&&r.nodeName!='dj')&&r.nodeValue!=l.getAttribute(r.nodeName))return false;}if(g)for(q=0;q<p;q++){r=n[q];if((!g||r.specified&&r.nodeName!='dj')&&r.nodeValue!=m.getAttribute(r.nodeName))return false;}return true;},isVisible:function(){return this.$.offsetWidth&&this.$.style.visibility!='hidden';},hasAttributes:g&&(f.ie7Compat||f.ie6Compat)?function(){var l=this.$.attributes;for(var m=0;m<l.length;m++){var n=l[m];switch(n.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'dj':continue;default:if(n.specified)return true;}}return false;}:function(){var l=this.$.attributes;return l.length>1||l.length==1&&l[0].nodeName!='dj';},hasAttribute:function(l){var m=this.$.attributes.getNamedItem(l);return! !(m&&m.specified);},hide:function(){this.setStyle('display','none');},jg:function(l,m){var n=this.$;l=l.$;if(n==l)return;var o;if(m)while(o=n.lastChild)l.insertBefore(n.removeChild(o),l.firstChild);else while(o=n.firstChild)l.appendChild(n.removeChild(o));},show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var l=function(m,n){this.$.setAttribute(m,n);return this;};if(g&&(f.ie7Compat||f.ie6Compat))return function(m,n){var o=this;if(m=='class')o.$.className=n;else if(m=='style')o.$.style.cssText=n;else if(m=='tabindex')o.$.tabIndex=n;else if(m=='checked')o.$.checked=n;else l.apply(o,arguments);return o;};else return l;})(),setAttributes:function(l){for(var m in l)this.setAttribute(m,l[m]);return this;},setValue:function(l){this.$.value=l;return this;},removeAttribute:(function(){var l=function(m){this.$.removeAttribute(m);};if(g&&(f.ie7Compat||f.ie6Compat))return function(m){if(m=='class')m='className';else if(m=='tabindex')m='tabIndex';l.call(this,m);};else return l;})(),uW:function(l){for(var m=0;m<l.length;m++)this.removeAttribute(l[m]);},removeStyle:function(l){var m=this;if(m.$.style.removeAttribute)m.$.style.removeAttribute(i.cssStyleToDomStyle(l));else m.setStyle(l,'');if(!m.$.style.cssText)m.removeAttribute('style');},setStyle:function(l,m){this.$.style[i.cssStyleToDomStyle(l)]=m;return this;},setStyles:function(l){for(var m in l)this.setStyle(m,l[m]);return this;},setOpacity:function(l){if(g){l=Math.round(l*100);this.setStyle('filter',l>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+l+')');}else this.setStyle('opacity',l);},unselectable:f.gecko?function(){this.$.style.MozUserSelect='none';}:f.webkit?function(){this.$.style.uE='none';}:function(){if(g||f.opera){var l=this.$,m,n=0;l.unselectable='on';while(m=l.all[n++])switch(m.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:m.unselectable='on';}}},vr:function(){var l=this;while(l.getName()!='html'){if(l.getComputedStyle('position')!='static')return l;l=l.getParent();}return null;},ir:function(l){var G=this;var m=0,n=0,o=G.getDocument().bH(),p=G.getDocument().$.compatMode=='BackCompat',q=G.getDocument();if(document.documentElement.getBoundingClientRect){var r=G.$.getBoundingClientRect(),s=q.$,t=s.documentElement,u=t.clientTop||o.$.clientTop||0,v=t.clientLeft||o.$.clientLeft||0,w=true;if(g){var x=q.gT().contains(G),y=q.bH().contains(G);w=p&&y|| !p&&x;}if(w){m=r.left+(!p&&t.scrollLeft||o.$.scrollLeft);m-=v;n=r.top+(!p&&t.scrollTop||o.$.scrollTop);n-=u;}}else{var z=G,A=null,B;while(z&& !(z.getName()=='body'||z.getName()=='html')){m+=z.$.offsetLeft-z.$.scrollLeft;n+=z.$.offsetTop-z.$.scrollTop;if(!z.equals(G)){m+=z.$.clientLeft||0;n+=z.$.clientTop||0;}var C=A;while(C&& !C.equals(z)){m-=C.$.scrollLeft;n-=C.$.scrollTop;C=C.getParent();}A=z;z=(B=z.$.offsetParent)?new k(B):null;}}if(l){var D=G.getWindow(),E=l.getWindow();if(!D.equals(E)&&D.$.frameElement){var F=new k(D.$.frameElement).ir(l);m+=F.x;n+=F.y;}}if(!document.documentElement.getBoundingClientRect)if(f.gecko&& !p){m+=G.$.clientLeft?1:0;n+=G.$.clientTop?1:0;}return{x:m,y:n};},scrollIntoView:function(l){var r=this;var m=r.getWindow(),n=m.eR().height,o=n* -1;if(l)o+=n;else{o+=r.$.offsetHeight||0;o+=parseInt(r.getComputedStyle('marginBottom')||0,10)||0;}var p=r.ir();o+=p.y;o=o<0?0:o;var q=m.hV().y;if(o>q||o<q-n)m.$.scrollTo(0,o);},bR:function(l){var m=this;switch(l){case a.eV:m.addClass('cke_on');m.removeClass('cke_off');m.removeClass('cke_disabled');break;case a.aY:m.addClass('cke_disabled');m.removeClass('cke_off');m.removeClass('cke_on');break;default:m.addClass('cke_off');m.removeClass('cke_on');m.removeClass('cke_disabled');break;}},getFrameDocument:function(){var l=this.$;try{l.contentWindow.document;}catch(m){l.src=l.src;if(g&&f.version<7)window.showModalDialog('javascript:document.write("/,O=M.target.responseText,P=O.match(N);if(!P){J('','Error: '+O);return;}J(P[1],P[2]);},false);H.open('POST',y.getAttribute('action'));if(A){var K=new FormData();K.append(x.name,C);H.send(K);}else{var L='-----CKFinder--XHR-----';H.setRequestHeader('Content-Type','multipart/form-data; boundary='+L);H.sendAsBinary(s(x.name,C,L));}return true;};function r(w){var x,y,z='';for(x=0;x<w.length;x++){y=w.charCodeAt(x);if(y<128)z+=String.fromCharCode(y);else if(y>127&&y<2048){z+=String.fromCharCode(y>>6|192);z+=String.fromCharCode(y&63|128);}else{z+=String.fromCharCode(y>>12|224);z+=String.fromCharCode(y>>6&63|128);z+=String.fromCharCode(y&63|128);}}return z;};function s(w,x,y){return '--'+y+'\r\n'+'Content-Disposition: form-data; '+'name="'+w+'"; '+'filename="'+r(x.fileName)+'"\r\n'+'Content-Type: application/octet-stream\r\n\r\n'+x.getAsBinary()+'\r\n'+'--'+y+'--\r\n';};function t(w,x){w.target.kC=w.loaded;var y=Number(w.loaded/1024).toFixed()+'/'+Number(w.total/1024).toFixed();w.target.log.getParent().cf().setText(x.Kb.replace('%1',y));};function u(w,x){var y=(new Date().getTime()-w.oS)/1000,z=w.kC/y;z=Number(z/1024).toFixed();w.log.getParent().cf().cf().setText(x.KbPerSecond.replace('%1',z));};function v(w,x,y){w.log=x.getChild([3,0]);w.oS=new Date().getTime();w.interval=window.setInterval(u,1000,w,y);w.kC=0;w.onprogress=function(z){if(z.lengthComputable){t(z,y);u(z.target,y);var A=z.loaded/z.total;if(A<1){var B=A*100;if(B<0)B=0;z.target.log.setStyle('width',B+'%');}}};w.onload=function(z){var A=z.target;window.clearInterval(A.interval);var B=A.log.getParent().getParent();};};})();(function(){function p(q,r){var s='undefined',t='object',u='Shockwave Flash',v='ShockwaveFlash.ShockwaveFlash',w='application/x-shockwave-flash',x='SWFObjectExprInst',y='onreadystatechange',z=q,A=r,B=navigator,C=false,D=[V],E=[],F=[],G=[],H,I,J,K,L=false,M=false,N,O,P=true,Q=(function(){var pw=typeof A.getElementById!=s&&typeof A.getElementsByTagName!=s&&typeof A.createElement!=s,aq=B.userAgent.toLowerCase(),ar=B.platform.toLowerCase(),as=ar?/win/.test(ar):/win/.test(aq),at=ar?/mac/.test(ar):/mac/.test(aq),au=/webkit/.test(aq)?parseFloat(aq.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,'$1')):false,av= ! +'\v1',aw=[0,0,0],ax=null;if(typeof B.plugins!=s&&typeof B.plugins[u]==t){ax=B.plugins[u].description;if(ax&& !(typeof B.mimeTypes!=s&&B.mimeTypes[w]&& !B.mimeTypes[w].enabledPlugin)){C=true;av=false;ax=ax.replace(/^.*\s+(\S+\s+\S+$)/,'$1');aw[0]=parseInt(ax.replace(/^(.*)\..*$/,'$1'),10);aw[1]=parseInt(ax.replace(/^.*\.(.*)\s.*$/,'$1'),10);aw[2]=/[a-zA-Z]/.test(ax)?parseInt(ax.replace(/^.*[a-zA-Z]+(.*)$/,'$1'),10):0;}}else if(typeof z.ActiveXObject!=s)try{var ay=new ActiveXObject(v);if(ay){ax=ay.GetVariable('$version');if(ax){av=true;ax=ax.split(' ')[1].split(',');aw=[parseInt(ax[0],10),parseInt(ax[1],10),parseInt(ax[2],10)];}}}catch(az){}return{w3:pw,pv:aw,wk:au,ie:av,win:as,mac:at};})(),R=(function(){if(!Q.w3)return;if(typeof A.readyState!=s&&A.readyState=='complete'||typeof A.readyState==s&&(A.getElementsByTagName('body')[0]||A.body))S();if(!L){if(typeof A.addEventListener!=s)A.addEventListener('DOMContentLoaded',S,false);if(Q.ie&&Q.win){A.attachEvent(y,function(){if(A.readyState=='complete'){A.detachEvent(y,arguments.callee);S();}});if(z==top)(function(){if(L)return;try{A.documentElement.doScroll('left');}catch(pw){setTimeout(arguments.callee,0);return;}S();})();}if(Q.wk)(function(){if(L)return;if(!/loaded|complete/.test(A.readyState)){setTimeout(arguments.callee,0);return;}S();})();U(S);}})();setTimeout(function(){S();},100);function S(){if(L)return;try{var pw=A.getElementsByTagName('body')[0].appendChild(eN('span'));pw.parentNode.removeChild(pw);}catch(as){return;}L=true;var aq=D.length;for(var ar=0;ar<aq;ar++)D[ar]();};function T(pw){if(L)pw();else D[D.length]=pw;};function U(pw){if(typeof z.addEventListener!=s)z.addEventListener('load',pw,false);else if(typeof A.addEventListener!=s)A.addEventListener('load',pw,false);else if(typeof z.attachEvent!=s)gB(z,'onload',pw);else if(typeof z.onload=='function'){var aq=z.onload;z.onload=function(){aq();pw();};}else z.onload=pw;};function V(){if(C)W();else X();};function W(){var pw=A.getElementsByTagName('body')[0],aq=eN(t);aq.setAttribute('type',w);var ar=pw.appendChild(aq);if(ar){var as=0;(function(){if(typeof ar.GetVariable!=s){var at=ar.GetVariable('$version');if(at){at=at.split(' ')[1].split(',');Q.pv=[parseInt(at[0],10),parseInt(at[1],10),parseInt(at[2],10)];}}else if(as<10){as++;setTimeout(arguments.callee,10);return;}pw.removeChild(aq);ar=null;X();})();}else X();};function X(){var pw=E.length;if(pw>0)for(var aq=0;aq<pw;aq++){var ar=E[aq].id,as=E[aq].callbackFn,at={success:false,id:ar};if(Q.pv[0]>0){var au=bV(ar);if(au)if(dX(E[aq].swfVersion)&& !(Q.wk&&Q.wk<312)){am(ar,true);if(as){at.success=true;at.ref=Y(ar);as(at);}}else if(E[aq].ln&&Z()){var av={};av.data=E[aq].ln;av.width=au.getAttribute('width')||'0';av.height=au.getAttribute('height')||'0';if(au.getAttribute('class'))av.styleclass=au.getAttribute('class');if(au.getAttribute('align'))av.align=au.getAttribute('align');var aw={},ax=au.getElementsByTagName('param'),ay=ax.length;for(var az=0;az<ay;az++){if(ax[az].getAttribute('name').toLowerCase()!='movie')aw[ax[az].getAttribute('name')]=ax[az].getAttribute('value');}aa(av,aw,ar,as);}else{aT(au);if(as)as(at);}}else{am(ar,true);if(as){var aA=Y(ar);if(aA&&typeof aA.SetVariable!=s){at.success=true;at.ref=aA;}as(at);}}}};function Y(pw){var aq=null,ar=bV(pw);if(ar&&ar.nodeName=='OBJECT')if(typeof ar.SetVariable!=s)aq=ar;else{var as=ar.getElementsByTagName(t)[0];if(as)aq=as;}return aq;};function Z(){return!M&&dX('6.0.65')&&(Q.win||Q.mac)&& !(Q.wk&&Q.wk<312);};function aa(pw,aq,ar,as){M=true;J=as||null;K={success:false,id:ar};var at=bV(ar);if(at){if(at.nodeName=='OBJECT'){H=bm(at);I=null;}else{H=at;I=ar;}pw.id=x;if(typeof pw.width==s|| !/%$/.test(pw.width)&&parseInt(pw.width,10)<310)pw.width='310';if(typeof pw.height==s|| !/%$/.test(pw.height)&&parseInt(pw.height,10)<137)pw.height='137';A.title=A.title.slice(0,47)+' - Flash Player Installation';var au=Q.ie&&Q.win?'ActiveX':'PlugIn',av='MMredirectURL='+z.location.toString().replace(/&/g,'%26')+'&MMplayerType='+au+'&MMdoctitle='+A.title;if(typeof aq.flashvars!=s)aq.flashvars+='&'+av;else aq.flashvars=av;if(Q.ie&&Q.win&&at.readyState!=4){var aw=eN('div');ar+='SWFObjectNew';aw.setAttribute('id',ar);at.parentNode.insertBefore(aw,at);at.style.display='none';(function(){if(at.readyState==4)at.parentNode.removeChild(at);else setTimeout(arguments.callee,10);})();}bW(pw,aq,ar);}};function aT(pw){if(Q.ie&&Q.win&&pw.readyState!=4){var aq=eN('div');pw.parentNode.insertBefore(aq,pw);aq.parentNode.replaceChild(bm(pw),aq);pw.style.display='none';(function(){if(pw.readyState==4)pw.parentNode.removeChild(pw);else setTimeout(arguments.callee,10);})();}else pw.parentNode.replaceChild(bm(pw),pw);};function bm(pw){var aq=eN('div');if(Q.win&&Q.ie)aq.innerHTML=pw.innerHTML;else{var ar=pw.getElementsByTagName(t)[0];if(ar){var as=ar.childNodes;if(as){var at=as.length;for(var au=0;au<at;au++){if(!(as[au].nodeType==1&&as[au].nodeName=='PARAM')&& !(as[au].nodeType==8))aq.appendChild(as[au].cloneNode(true));}}}}return aq;};function bW(pw,aq,ar){var as,at=bV(ar);if(Q.wk&&Q.wk<312)return as;if(at){if(typeof pw.id==s)pw.id=ar;if(Q.ie&&Q.win){var au='';for(var av in pw){if(pw[av]!=Object.prototype[av])if(av.toLowerCase()=='data')aq.movie=pw[av];else if(av.toLowerCase()=='styleclass')au+=' class="'+pw[av]+'"';else if(av.toLowerCase()!='classid')au+=' '+av+'="'+pw[av]+'"';}var aw='';for(var ax in aq){if(aq[ax]!=Object.prototype[ax])aw+='<param name="'+ax+'" value="'+aq[ax]+'" />';}at.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+au+'>'+aw+'</object>';F[F.length]=pw.id;as=bV(pw.id);}else{var ay=eN(t);ay.setAttribute('type',w);for(var az in pw){if(pw[az]!=Object.prototype[az])if(az.toLowerCase()=='styleclass')ay.setAttribute('class',pw[az]);else if(az.toLowerCase()!='classid')ay.setAttribute(az,pw[az]);}for(var aA in aq){if(aq[aA]!=Object.prototype[aA]&&aA.toLowerCase()!='movie')eS(ay,aA,aq[aA]);}at.parentNode.replaceChild(ay,at);as=ay;}}return as;};function eS(pw,aq,ar){var as=eN('param');as.setAttribute('name',aq);as.setAttribute('value',ar);pw.appendChild(as);};function fv(pw){var aq=bV(pw);if(aq&&aq.nodeName=='OBJECT')if(Q.ie&&Q.win){aq.style.display='none';(function(){if(aq.readyState==4)aP(pw);else setTimeout(arguments.callee,10);})();}else aq.parentNode.removeChild(aq);};function aP(pw){var aq=bV(pw);if(aq){for(var ar in aq){if(typeof aq[ar]=='function')aq[ar]=null;}aq.parentNode.removeChild(aq);}};function bV(pw){var aq=null;try{aq=A.getElementById(pw);}catch(ar){}return aq;};function eN(pw){return A.createElement(pw);};function gB(pw,aq,ar){pw.attachEvent(aq,ar);G[G.length]=[pw,aq,ar];};function dX(pw){var aq=Q.pv,ar=pw.split('.');ar[0]=parseInt(ar[0],10);ar[1]=parseInt(ar[1],10)||0;ar[2]=parseInt(ar[2],10)||0;return aq[0]>ar[0]||aq[0]==ar[0]&&aq[1]>ar[1]||aq[0]==ar[0]&&aq[1]==ar[1]&&aq[2]>=ar[2]?true:false;};function gs(pw,aq,ar,as){if(Q.ie&&Q.mac)return;var at=A.getElementsByTagName('head')[0];if(!at)return;var au=ar&&typeof ar=='string'?ar:'screen';if(as){N=null;O=null;}if(!N||O!=au){var av=eN('style');av.setAttribute('type','text/css');av.setAttribute('media',au);N=at.appendChild(av);if(Q.ie&&Q.win&&typeof A.styleSheets!=s&&A.styleSheets.length>0)N=A.styleSheets[A.styleSheets.length-1];O=au;}if(Q.ie&&Q.win){if(N&&typeof N.addRule==t)N.addRule(pw,aq);}else if(N&&typeof A.createTextNode!=s)N.appendChild(A.createTextNode(pw+' {'+aq+'}'));};function am(pw,aq){if(!P)return;var ar=aq?'visible':'hidden';if(L&&bV(pw))bV(pw).style.visibility=ar;else gs('#'+pw,'visibility:'+ar);};function gP(pw){var aq=/[\\\"<>\.;]/,ar=aq.exec(pw)!=null;return ar&&typeof encodeURIComponent!=s?encodeURIComponent(pw):pw;};var gR=(function(){if(Q.ie&&Q.win)q.attachEvent('onunload',function(){var pw=G.length;for(var aq=0;aq<pw;aq++)G[aq][0].detachEvent(G[aq][1],G[aq][2]);var ar=F.length;for(var as=0;as<ar;as++)fv(F[as]);for(var at in Q)Q[at]=null;Q=null;if(typeof swfobject!='undefined'){for(var au in swfobject)swfobject[au]=null;swfobject=null;}});})();return{gH:function(pw,aq,ar,as){if(Q.w3&&pw&&aq){var at={};at.id=pw;at.swfVersion=aq;at.ln=ar;at.callbackFn=as;E[E.length]=at;am(pw,false);}else if(as)as({success:false,id:pw});},lp:function(pw){if(Q.w3)return Y(pw);},embedSWF:function(pw,aq,ar,as,at,au,av,aw,ax,ay){var az={success:false,id:aq};if(Q.w3&& !(Q.wk&&Q.wk<312)&&pw&&aq&&ar&&as&&at){am(aq,false);T(function(){ar+='';as+='';var aA={};if(ax&&typeof ax===t)for(var aB in ax)aA[aB]=ax[aB];aA.data=pw;aA.width=ar;aA.height=as;var aC={};if(aw&&typeof aw===t)for(var aD in aw)aC[aD]=aw[aD];if(av&&typeof av===t)for(var aE in av){if(typeof aC.flashvars!=s)aC.flashvars+='&'+aE+'='+av[aE];else aC.flashvars=aE+'='+av[aE];}if(dX(at)){var aF=bW(aA,aC,aq);if(aA.id==aq)am(aq,true);az.success=true;az.ref=aF;}else if(au&&Z()){aA.data=au;aa(aA,aC,aq,ay);return;}else am(aq,true);if(ay)ay(az);});}else if(ay)ay(az);},switchOffAutoHideShow:function(){P=false;},ua:Q,kL:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]};},kf:dX,iV:function(pw,aq,ar){if(Q.w3)return bW(pw,aq,ar);else return undefined;},jS:function(pw,aq,ar,as){if(Q.w3&&Z())aa(pw,aq,ar,as);},jv:function(pw){if(Q.w3)fv(pw);},ik:function(pw,aq,ar,as){if(Q.w3)gs(pw,aq,ar,as);},cz:T,jC:U,kY:function(pw){var aq=A.location.search||A.location.hash;if(aq){if(/\?/.test(aq))aq=aq.split('?')[1];if(pw==null)return gP(aq);var ar=aq.split('&');for(var as=0;as<ar.length;as++){if(ar[as].substring(0,ar[as].indexOf('='))==pw)return gP(ar[as].substring(ar[as].indexOf('=')+1));}}return '';},lq:function(){if(M){var pw=bV(x);if(pw&&H){pw.parentNode.replaceChild(H,pw);if(I){am(I,true);if(Q.ie&&Q.win)H.style.display='block';}if(J)J(K);}M=false;}}};};CKFinder.addPlugin('flashupload',{appReady:function(q){var r=q.document,s=r.defaultView||r.parentWindow,t=p(s,r);if(q.config.connectorLanguage=='asp'&& !CKFinder.env.ie)return;if(!t.kf('10.2.0'))return;setTimeout(function(){q.replaceUploadForm('<iframe src="'+CKFinder.getPluginPath('flashupload')+'Uploader.html'+'" style="width: 100%; height: 98%;" frameBorder="0"></iframe>',function(){q.resizeFormPanel(100);s.api=q;s.create_swfobject=p;s.sessionIdentifiers={CFID:'CFID',CFTOKEN:'CFTOKEN',JSESSIONID:'jsessionid'};if(!CKFinder.env.ie&& !s.flash_cookies)q.connector.sendCommandPost('LoadCookies',null,null,function(u){if(u.checkError())return false;var v=u.selectSingleNode('Connector/Cookies');if(v){var w=v.attributes.getNamedItem('sessionCookieName'),x=v.attributes.getNamedItem('sessionParameterName');if(w&&w.value&&x&&x.value)s.sessionIdentifiers[w.value]=x.value;}var y=u.selectNodes('Connector/Cookies/Cookie');if(y&&y.length){s.flash_cookies={};for(var z=0;z<y.length;z++){var A=y[z].attributes.getNamedItem('value').value,B=y[z].attributes.getNamedItem('name').value;s.flash_cookies[B]=A;}}});});},100);}});})();(function(){function p(r,s){var t='',u=0;for(var v=0;v<r.length;v++){var w=r[v];if(!w)continue;var x=i.indexOf(s.basketFiles,w),y=1,z=s.basketFiles.length-1;for(var A=x;A<z;A++){if(!s.basketFiles[A]){y++;continue;}s.basketFiles[A]=s.basketFiles[A+y];}s.basketFiles.length=z;t+='<li>'+w+'</li>';u++;}w=undefined;var B='cke_files_list';if(u>3)B+=' cke_files_list_many';if(t)t='<ul class="'+B+'">'+t+'</ul>';return t;};function q(r,s,t,u,v,w,x){if(!u)u=function(){};if(!x)var y=[s];var z={},A=0;for(var B=0;B<t.length;B++){var C=t[B];if(C.folder==s)continue;z['files['+A+'][name]']=C.name;z['files['+A+'][type]']=C.folder.type;z['files['+A+'][folder]']=C.folder.getPath();z['files['+A+'][options]']=v&&v[B]||'';A++;if(w&& !x)y.push(C.folder);}if(!x)u=i.override(u,function(G){return function(){var H,I=r.aG['filesview.filesview'][0],J=I.tools.currentFolder();for(H=0;H<y.length;H++){if(J==y[H]){r.oW('requestSelectFolder',{folder:J});break;}}return G;};});var D=r.connector,E=0,F=w?'MoveFiles':'CopyFiles';if(!z['files[0][name]']){u();return;}D.sendCommandPost(F,null,z,function V(G){var H=G.getErrorNumber(),I=[],J=[],K,L,M;for(K=0;K<t.length;K++)I.push(t[K]);if(H==D.ERROR_COPY_FAILED||H==D.ERROR_MOVE_FAILED){var N=G.selectNodes('Connector/Errors/Error'),O=0;for(K=0;K<N.length;K++){var P=N[K].getAttribute('code'),Q=N[K].getAttribute('name'),R=N[K].getAttribute('type'),S=N[K].getAttribute('folder');if(P==D.ERROR_ALREADYEXIST)O=1;else{M=r.lang.BasketPasteErrorOther;M=M.replace('%s',Q);M=M.replace('%e',r.lang.Errors[P]);r.msgDialog('',M);}for(var T=0;T<I.length;T++){var U=I[T];if(U&&U.name==Q&&U.folder.getPath()==S&&U.folder.type==R){delete I[T];if(P==D.ERROR_ALREADYEXIST)J.push(U);}}}L=p(I,r);if(O)r.cg.openDialog('basketPasteFileExists',function(W){var X=arguments.callee;M='';if(L){M=w?r.lang.BasketPasteMoveSuccess:r.lang.BasketPasteCopySuccess;M=M.replace('%s',L);}if(M)M+='<br /><br />';var Y=r.lang.ErrorMsg.FileExists;Y=Y.replace('%s',J[0]);M+='<strong>'+Y+'</strong>';W.show();if(M)W.getContentElement('tab1','msg').getElement().setHtml(M);W.on('ok',function eS(Z){Z.removeListener();var aa=W.getContentElement('tab1','option').getValue(),aT=W.getContentElement('tab1','remember').getValue(),bm;switch(aa){case 'autorename':bm=['autorename'];break;case 'overwrite':bm=['overwrite'];break;case 'skip':if(!aT&&J.length>1){J.shift();r.cg.openDialog('basketPasteFileExists',X);return;}case 'skipall':u();return;break;}if(aT)for(var bW=1;bW<J.length;bW++)bm.push(bm[0]);q(r,s,J,u,bm,w,1);});});return;}else if(G.checkError())E=1;if(E)return;L=p(I,r);if(L){M=w?r.lang.BasketPasteMoveSuccess:r.lang.BasketPasteCopySuccess;M=M.replace('%s',L);r.msgDialog('','<div style="padding:10px;">'+M+'</div>',u);}else u();});};m.add('basket',{bM:['foldertree','filesview','contextmenu'],basketToolbar:[['clearBasket',{label:'BasketClear',command:'TruncateBasket'}]],basketFileContextMenu:[['mu',{label:'BasketRemove',command:'RemoveFileFromBasket',group:'file3'}],['hN',{label:'BasketOpenFolder',command:'OpenFileFolder',group:'file1'}]],onLoad:function s(r){a.dialog.add('basketPasteFileExists',function(t){return{title:t.lang.FileExistsDlgTitle,minWidth:350,minHeight:120,contents:[{id:'tab1',label:'',title:'',style:f.ie7Compat?'height:auto':'',expand:true,padding:0,elements:[{id:'msg',className:'cke_dialog_error_msg',type:'html',widths:['70%','30%'],html:''},{type:'hbox',className:'cke_dialog_file_exist_options',children:[{type:'radio',id:'option',label:t.lang.common.makeDecision,'default':'autorename',items:[[t.lang.FileAutorename,'autorename'],[t.lang.FileOverwrite,'overwrite'],[t.lang.common.skip,'skip'],[t.lang.common.skipAll,'skipall']]}]},{type:'hbox',className:'cke_dialog_remember_decision',children:[{type:'checkbox',id:'remember',label:t.lang.common.rememberDecision}]}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]};});},bz:function u(r){var s=window.top[a.nd+"\143\x61\x74\151\x6f\156"][a.jG+"\163\164"];r.bD('FolderPasteCopyBasket',{exec:function(v){var w=v.aV;if(!w)return;q(v,w,v.basketFiles);}});r.bD('FolderPasteMoveBasket',{exec:function(v){if(a.bF&&1==a.bs.indexOf(a.bF.substr(1,1))%5&&a.lS(s)!=a.lS(a.ed)||a.bF&&a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1))v.msgDialog('',"\x54\x68\x69\x73\x20\x66\165\156\x63\x74\151\157\156\x20\151\163\040\144\151\163\x61\142\x6c\x65\144\x20\151\156\040\164\x68\x65\x20\144\x65\155\x6f\040\x76\x65\x72\163\x69\x6f\156\x20\x6f\x66\x20\x43\113\x46\x69\156\x64\145\162\x2e\074\142\162\x20\x2f\076\x50\154\145\x61\x73\145\x20\x76\x69\x73\x69\164\040\164\150\x65\x20\x3c\x61\x20\x68\162\x65\146\x3d\047\x68\164\164\160\072\057\x2f\x63\153\x66\151\x6e\x64\x65\x72\x2e\x63\x6f\155\x27\x3e\103\x4b\x46\151\x6e\x64\145\162\040\x77\x65\x62\x20\x73\x69\x74\x65\074\057\141\x3e\x20\164\x6f\040\x6f\142\164\x61\x69\x6e\x20\x61\x20\166\x61\x6c\151\x64\x20\x6c\x69\x63\x65\x6e\x73\145\056");else{var w=v.aV;if(!w)return;q(v,w,v.basketFiles,null,[],true);}}});r.eU({folderPasteMoveBasket:{label:r.lang.BasketMoveFilesHere,command:'FolderPasteMoveBasket',group:'folder1'},folderPasteCopyBasket:{label:r.lang.BasketCopyFilesHere,command:'FolderPasteCopyBasket',group:'folder1'}});var t=r.basket=new a.aL.BasketFolder(r);r.basketFiles=[];r.on('uiReady',function E(v){var w=r.aG['foldertree.foldertree'];for(var x=0;x<w.length;x++){w[x].on('beforeAddFolder',function G(F){F.removeListener();F.data.folders.push(t);});w[x].on('beforeDroppable',function J(F){if(!(F.data.target instanceof a.aL.BasketFolder))return;if(!(F.data.source instanceof a.aL.File))return;var G=F.data.source,H=0;for(var I=0;I<r.basketFiles.length;I++){if(G.isSameFile(r.basketFiles[I]))H=1;}if(!H)r.basketFiles.push(F.data.source);F.cancel(1);});w[x].on('beforeContextMenu',function H(F){var G;if(!(F.data.folder instanceof a.aL.BasketFolder)){G=F.data.bj;G.folderPasteCopyBasket=r.basketFiles.length?a.aS:a.aY;G.folderPasteMoveBasket=r.basketFiles.length?a.aS:a.aY;}else{G=F.data.bj;delete G.lI;delete G.removeFolder;delete G.kl;G.qT=r.basketFiles.length?a.aS:a.aY;}});w[x].on('beforeKeyboardNavigation',function H(F){if(F.data.folder instanceof a.aL.BasketFolder){var G=F.data.db();if(G==46||G==113)F.cancel();}});}r.bD('TruncateBasket',{exec:function(F){if(F.basketFiles.length)F.fe('',F.lang.BasketTruncateConfirm,function(){F.basketFiles.length=0;F.oW('requestSelectFolder',{folder:F.basket});});}});r.bD('RemoveFileFromBasket',{exec:function(F){var G=F.aG['filesview.filesview'][0].data().cG;if(G)F.fe('',F.lang.BasketRemoveConfirm.replace('%1',G.name),function(){for(var H=0;H<F.basketFiles.length;H++){var I=F.basketFiles[H];if(G.isSameFile(I)){F.basketFiles.splice(H,1);break;}}F.oW('requestSelectFolder',{folder:F.basket});});}});r.bD('OpenFileFolder',{exec:function(F){var G=F.aG['filesview.filesview'][0].data().cG;if(G)F.oW('requestSelectFolder',{folder:G.folder});}});if(r.eU)r.gp('truncateBasket',{label:r.lang.BasketClear,command:'TruncateBasket',group:'folder'});var y=[],z=r.aG['filesview.filesview'],A=[];for(var B=0;B<z.length;B++){z[B].on('beforeContextMenu',function(F){if(!(F.data.folder instanceof a.aL.BasketFolder))return;var G=F.data.bj;delete G.renameFile;delete G.deleteFile;G.mu=a.aS;G.hN=a.aS;for(var H=0;H<A.length;H++)G[A[H]]=a.aS;});z[B].on('beforeShowFolderFiles',function O(F){if(!(F.data.folder instanceof a.aL.BasketFolder))return;F.cancel(1);this.app.oW('requestRenderFiles',{files:r.basketFiles,mj:r.lang.BasketEmpty,eu:1,folder:F.data.folder});this.app.oW('requestRepaintFolder',F.data);C(this.app);D(this.app);var G=this.app.dh.fk;for(var H=0;H<G.length;H++){var I=this.app.document.getById(G[H].id),J=['<span class="cke_toolgroup" id="basket">'];for(var K in this.app.bY._.items){if(!this.app.bY._.items.hasOwnProperty(K))continue;var L=r.bY._.items[K];if(!L.mp[0].basketToolbar)continue;L=r.bY.create(K);var M=L.er(r,J),N=G[H].items.push(M)-1;if(N>0){M.previous=G[H].items[N-1];M.previous.next=M;}if(!y[H])y[H]=[];y[H].push(N);}J.push('</span>');I.appendHtml(J.join(''));}this.on('beforeShowFolderFiles',function(P){this.app.document.getById('basket').remove();var Q=this.app.dh.fk;for(var R=0;R<Q.length;R++)for(var S=0;S<Q[R].items.length;S++){if(y[R][S])delete Q[R].items[S];}P.removeListener();},null,null,1);this.oW('successShowFolderFiles',F.data);this.oW('afterShowFolderFiles',F.data);});z[B].on('beforeKeyboardNavigation',function I(F){var G=r.aV;if(G&&G instanceof a.aL.BasketFolder){var H=F.data.db();if(H==46){F.cancel();r.execCommand('RemoveFileFromBasket');}if(H==113)F.cancel();}});}function C(F){for(var G in F.plugins){if(!F.plugins.hasOwnProperty(G))continue;G=F.plugins[G];if(!G.basketToolbar)continue;for(var H=0;H<G.basketToolbar.length;H++){var I=G.basketToolbar[H];if(F.bY._.items[I[0]])continue;var J=i.deepCopy(I[1]);if(!J.command){var K=I[1].onClick,L='BasketToolbar_'+I[0];F.bD('BasketToolbar_'+I[0],{exec:function(M){K(M.cg);}});J.command=L;}if(F.lang[J.label])J.label=F.lang[J.label];J.basketToolbar=1;F.bY.add(I[0],CKFinder._.UI_BUTTON,J);}}};function D(F){if(!F.eU)return;for(var G in F.plugins){if(!F.plugins.hasOwnProperty(G))continue;G=F.plugins[G];if(!G.basketFileContextMenu)continue;for(var H=0;H<G.basketFileContextMenu.length;H++){var I=G.basketFileContextMenu[H];if(F._.iG[I[0]])continue;var J=i.deepCopy(I[1]);if(!J.command){var K='BasketContextMenu_'+I[0],L=I[1].onClick;F.bD('BasketContextMenu_'+I[0],{exec:function(M){L(M.cg);}});J.command=K;}if(F.lang[J.label])J.label=F.lang[J.label];F.gp(I[0],J);A.push(I[0]);}}};},null,null,20);}});a.aL.BasketFolder=i.createClass({$:function(r){var s=this;a.aL.Folder.call(s,r,null,r.lang.BasketFolder);s.hasChildren=0;s.acl=new a.aL.Acl('1111111');s.isBasket=true;},base:a.aL.Folder,ej:{createNewFolder:function(){},getChildren:function(r){r.apply(this,null);},rename:function(){},remove:function(){},getUrl:function(){return 'ckfinder://basketFolder';},getUploadUrl:function(){return null;},getPath:function(){return '/';},copyFiles:function(r){},moveFiles:function(r){}}});})();a.DIALOG_RESIZE_NONE=0;a.DIALOG_RESIZE_WIDTH=1;a.DIALOG_RESIZE_HEIGHT=2;a.DIALOG_RESIZE_BOTH=3;(function(){function p(P){return! !this._.tabs[P][0].$.offsetHeight;};function q(){var T=this;var P=T._.gx,Q=T._.cU.length,R=i.indexOf(T._.cU,P)+Q;for(var S=R-1;S>R-Q;S--){if(p.call(T,T._.cU[S%Q]))return T._.cU[S%Q];}return null;};function r(){var T=this;var P=T._.gx,Q=T._.cU.length,R=i.indexOf(T._.cU,P);for(var S=R+1;S<R+Q;S++){if(p.call(T,T._.cU[S%Q]))return T._.cU[S%Q];}return null;};a.dialog=function(P,Q){var R=a.dialog._.ev[Q];R=i.extend(R(P),t);R=i.clone(R);R=new x(this,R);var S=a.document,T=P.theme.pu(P);this._={app:P,element:T.element,name:Q,hB:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},iX:{},tabs:{},cU:[],gx:null,nM:null,gV:0,qF:null,eC:false,eO:[],gu:0,hasFocus:false};this.bO=T.bO;this.bO.dialog.setStyles({position:f.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});a.event.call(this);this.dg=R=a.oW('dialogDefinition',{name:Q,dg:R},P).dg;if(R.onLoad)this.on('load',R.onLoad);if(R.onShow)this.on('show',R.onShow);if(R.onHide)this.on('hide',R.onHide);if(R.onOk)this.on('ok',function(fv){if(R.onOk.call(this,fv)===false)fv.data.hide=false;});if(R.onCancel)this.on('cancel',function(fv){if(R.onCancel.call(this,fv)===false)fv.data.hide=false;});var U=this,V=function(fv){var aP=U._.contents,bV=false;for(var eN in aP)for(var gB in aP[eN]){bV=fv.call(this,aP[eN][gB]);if(bV)return;}};this.on('ok',function(fv){V(function(aP){if(aP.validate){var bV=aP.validate(this);if(typeof bV=='string'){P.document.getWindow().$.alert(bV);bV=false;}if(bV===false){if(aP.select)aP.select();else aP.focus();fv.data.hide=false;fv.stop();return true;}}});},this,null,0);this.on('cancel',function(fv){V(function(aP){if(aP.isChanged()){if(!P.document.getWindow().$.confirm(P.lang.common.confirmCancel))fv.data.hide=false;return true;}});},this,null,0);this.bO.close.on('click',function(fv){if(this.oW('cancel',{hide:true}).hide!==false)this.hide();},this);function W(fv){var aP=U._.eO,bV=fv?1: -1;if(aP.length<1)return;var eN=(U._.gu+bV+aP.length)%aP.length,gB=eN;while(!aP[gB].fM()){gB=(gB+bV+aP.length)%aP.length;if(gB==eN)break;}aP[gB].focus();if(aP[gB].type=='text')aP[gB].select();};var X;function Y(fv){if(U!=a.dialog._.dL)return;var aP=fv.data.db();X=0;if(aP==9||aP==a.dy+9){var bV=aP==a.dy+9;if(U._.eC){var eN=bV?q.call(U):r.call(U);U.selectPage(eN);U._.tabs[eN][0].focus();}else W(!bV);X=1;}else if(aP==a.eJ+121&& !U._.eC){U._.eC=true;U._.tabs[U._.gx][0].focus();X=1;}else if((aP==37||aP==39)&&U._.eC){eN=aP==37?q.call(U):r.call(U);U.selectPage(eN);U._.tabs[eN][0].focus();X=1;}if(X){fv.stop();fv.data.preventDefault();}};function Z(fv){X&&fv.data.preventDefault();};this.on('show',function(){a.document.on('keydown',Y,this,null,0);if(f.opera||f.gecko&&f.mac)a.document.on('keypress',Z,this);if(f.ie6Compat){var fv=C.getChild(0).getFrameDocument();fv.on('keydown',Y,this,null,0);}});this.on('hide',function(){a.document.removeListener('keydown',Y);if(f.opera||f.gecko&&f.mac)a.document.removeListener('keypress',Z);});this.on('iframeAdded',function(fv){var aP=new j(fv.data.iframe.$.contentWindow.document);aP.on('keydown',Y,this,null,0);});this.on('show',function(){if(!this._.hasFocus){this._.gu= -1;W(true);}},this,null,4294967295);if(f.ie6Compat)this.on('load',function(fv){var aP=this.getElement(),bV=aP.getFirst();bV.remove();bV.appendTo(aP);},this);z(this);A(this);this.bO.title.setText(R.title);for(var aa=0;aa<R.contents.length;aa++)this.addPage(R.contents[aa]);var aT=/cke_dialog_tab(\s|$|_)/,bm=/cke_dialog_tab(\s|$)/;this.bO.tabs.on('click',function(fv){var dX=this;var aP=fv.data.bK(),bV=aP,eN,gB;if(!(aT.test(aP.$.className)||aP.getName()=='a'))return;eN=aP.$.id.substr(0,aP.$.id.lastIndexOf('_'));dX.selectPage(eN);if(dX._.eC){dX._.eC=false;dX._.gu= -1;W(true);}fv.data.preventDefault();},this);var bW=[],eS=a.dialog._.gv.hbox.dQ(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:R.buttons},bW).getChild();this.bO.footer.setHtml(bW.join(''));for(aa=0;aa<eS.length;aa++)this._.buttons[eS[aa].id]=eS[aa];a.skins.load(P,'dialog');};function s(P,Q,R){this.element=Q;this.cQ=R;this.fM=function(){return!Q.getAttribute('disabled')&&Q.isVisible();};this.focus=function(){P._.gu=this.cQ;this.element.focus();};Q.on('keydown',function(S){if(S.data.db()in{32:1,13:1})this.oW('click');});Q.on('focus',function(){this.oW('mouseover');});Q.on('blur',function(){this.oW('mouseout');});};a.dialog.prototype={resize:(function(){return function(P,Q){var R=this;if(R._.hB&&R._.hB.width==P&&R._.hB.height==Q)return;a.dialog.oW('resize',{dialog:R,skin:R._.app.gd,width:P,height:Q},R._.app);R._.hB={width:P,height:Q};};})(),hR:function(){var P=this._.element.getFirst();return{width:P.$.offsetWidth||0,height:P.$.offsetHeight||0};},mn:function(){var P=this.hR();P.height=P.height-(this.bO.title.$.offsetHeight||0)-(this.bO.footer.$.offsetHeight||0);return P;},move:(function(){var P;return function(Q,R,S){var V=this;var T=V._.element.getFirst();if(P===undefined)P=T.getComputedStyle('position')=='fixed';if(P&&V._.position&&V._.position.x==Q&&V._.position.y==R)return;V._.position={x:Q,y:R};if(!P){var U=a.document.getWindow().hV();Q+=U.x;R+=U.y;}T.setStyles({left:(Q>0?Q:0)+'px',top:(R>0?R:0)+'px'});S&&(V._.moved=1);};})(),gz:function(){return i.extend({},this._.position);},show:function(){var P=this._.app;if(P.mode=='qt'&&g){var Q=P.getSelection();Q&&Q.up();}var R=this._.element,S=this.dg;if(!(R.getParent()&&R.getParent().equals(a.document.bH())))R.appendTo(a.document.bH());else return;if(f.gecko&&f.version<10900){var T=this.bO.dialog;T.setStyle('position','absolute');setTimeout(function(){T.setStyle('position','fixed');},0);}this.resize(this._.hB&&this._.hB.width||S.minWidth,this._.hB&&this._.hB.height||S.minHeight);this.selectPage(this.dg.contents[0].id);this.reset();if(a.dialog._.gw===null)a.dialog._.gw=this._.app.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',a.dialog._.gw+=10);if(a.dialog._.dL===null){a.dialog._.dL=this;this._.ep=null;D(this._.app);R.on('keydown',G);R.on(f.opera?'keypress':'keyup',H);for(var U in{keyup:1,keydown:1,keypress:1})R.on(U,N);}else{this._.ep=a.dialog._.dL;var V=this._.ep.getElement().getFirst();V.$.style.zIndex-=Math.floor(this._.app.config.baseFloatZIndex/2);a.dialog._.dL=this;}I(this,this,'\x1b',null,function(){var W=this.getButton('cancel');if(W)W.click();else if(this.oW('cancel',{hide:true}).hide!==false)this.hide();});this._.hasFocus=false;i.setTimeout(function(){this.layout();this.bO.dialog.setStyle('visibility','');this.cr('load',{});this.oW('show',{});this._.app.oW('dialogShow',this);this.gh(function(W){W.jW&&W.jW();});},100,this);},layout:function(){var R=this;var P=a.document.getWindow().eR(),Q=R.hR();R.move(R._.moved?R._.position.x:(P.width-Q.width)/2,R._.moved?R._.position.y:(P.height-Q.height)/2);},gh:function(P){var S=this;for(var Q in S._.contents)for(var R in S._.contents[Q])P(S._.contents[Q][R]);return S;},reset:(function(){var P=function(Q){if(Q.reset)Q.reset();};return function(){this.gh(P);return this;};})(),rN:function(){var P=arguments;this.gh(function(Q){if(Q.qi)Q.qi.apply(Q,P);});},sI:function(){var P=arguments;this.gh(function(Q){if(Q.rx)Q.rx.apply(Q,P);});},hide:function(){this.oW('hide',{});this._.app.oW('dialogHide',this);var P=this._.element;if(!P.getParent())return;P.remove();this.bO.dialog.setStyle('visibility','hidden');J(this);if(!this._.ep)E();else{var Q=this._.ep.getElement().getFirst();Q.setStyle('z-index',parseInt(Q.$.style.zIndex,10)+Math.floor(this._.app.config.baseFloatZIndex/2));}a.dialog._.dL=this._.ep;if(!this._.ep){a.dialog._.gw=null;P.removeListener('keydown',G);P.removeListener(f.opera?'keypress':'keyup',H);for(var R in{keyup:1,keydown:1,keypress:1})P.removeListener(R,N);var S=this._.app;S.focus();if(S.mode=='qt'&&g){var T=S.getSelection();T&&T.sd(true);}}else a.dialog._.gw-=10;this.gh(function(U){U.ki&&U.ki();});},addPage:function(P){var Z=this;var Q=[],R=P.label?' title="'+i.htmlEncode(P.label)+'"':'',S=P.elements,T=a.dialog._.gv.vbox.dQ(Z,{type:'vbox',className:'cke_dialog_page_contents',children:P.elements,expand: ! !P.expand,padding:P.padding,style:P.style||'width: 100%; height: 100%;'},Q),U=k.kE(Q.join(''),a.document),V=k.kE(['<a class="cke_dialog_tab"',Z._.gV>0?' cke_last':'cke_first',R,! !P.hidden?' style="display:none"':'',' id="',P.id+'_',i.getNextNumber(),'" href="javascript:void(0)"',' hp="true">',P.label,'</a>'].join(''),a.document);if(Z._.gV===0)Z.bO.dialog.addClass('cke_single_page');else Z.bO.dialog.removeClass('cke_single_page');Z._.tabs[P.id]=[V,U];Z._.cU.push(P.id);Z._.gV++;Z._.qF=V;var W=Z._.contents[P.id]={},X,Y=T.getChild();while(X=Y.shift()){W[X.id]=X;if(typeof X.getChild=='function')Y.push.apply(Y,X.getChild());}U.setAttribute('name',P.id);U.appendTo(Z.bO.contents);V.unselectable();Z.bO.tabs.append(V);if(P.accessKey){I(Z,Z,'bP+'+P.accessKey,L,K);Z._.iX['bP+'+P.accessKey]=P.id;}},selectPage:function(P){var U=this;for(var Q in U._.tabs){var R=U._.tabs[Q][0],S=U._.tabs[Q][1];if(Q!=P){R.removeClass('cke_dialog_tab_selected');S.hide();}}var T=U._.tabs[P];T[0].addClass('cke_dialog_tab_selected');T[1].show();U._.gx=P;U._.nM=i.indexOf(U._.cU,P);},vJ:function(P){var Q=this._.tabs[P]&&this._.tabs[P][0];if(!Q)return;Q.hide();},showPage:function(P){var Q=this._.tabs[P]&&this._.tabs[P][0];if(!Q)return;Q.show();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(P,Q){return this._.contents[P][Q];},getValueOf:function(P,Q){return this.getContentElement(P,Q).getValue();},setValueOf:function(P,Q,R){return this.getContentElement(P,Q).setValue(R);},getButton:function(P){return this._.buttons[P];},click:function(P){return this._.buttons[P].click();},disableButton:function(P){return this._.buttons[P].disable();},enableButton:function(P){return this._.buttons[P].enable();},vj:function(){return this._.gV;},getParentApi:function(){return this._.app.cg;},eY:function(){return this._.app;},rf:function(){return this.eY().getSelection().rf();},tQ:function(P,Q){var S=this;if(typeof Q=='undefined'){Q=S._.eO.length;S._.eO.push(new s(S,P,Q));}else{S._.eO.splice(Q,0,new s(S,P,Q));for(var R=Q+1;R<S._.eO.length;R++)S._.eO[R].cQ++;}},setTitle:function(P){this.bO.title.setText(P);}};i.extend(a.dialog,{add:function(P,Q){if(!this._.ev[P]||typeof Q=='function')this._.ev[P]=Q;},exists:function(P){return! !this._.ev[P];},getCurrent:function(){return a.dialog._.dL;},okButton:(function(){var P=function(Q,R){R=R||{};return i.extend({id:'ok',type:'button',label:Q.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(S){var T=S.data.dialog;if(T.oW('ok',{hide:true}).hide!==false)T.hide();}},R,true);};P.type='button';P.override=function(Q){return i.extend(function(R){return P(R,Q);},{type:'button'},true);};return P;})(),cancelButton:(function(){var P=function(Q,R){R=R||{};return i.extend({id:'cancel',type:'button',label:Q.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(S){var T=S.data.dialog;if(T.oW('cancel',{hide:true}).hide!==false)T.hide();}},R,true);};P.type='button';P.override=function(Q){return i.extend(function(R){return P(R,Q);},{type:'button'},true);};return P;})(),addUIElement:function(P,Q){this._.gv[P]=Q;}});a.dialog._={gv:{},ev:{},dL:null,gw:null};a.event.du(a.dialog);a.event.du(a.dialog.prototype,true);var t={resizable:a.DIALOG_RESIZE_NONE,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},u=function(P,Q,R){for(var S=0,T;T=P[S];S++){if(T.id==Q)return T;if(R&&T[R]){var U=u(T[R],Q,R);if(U)return U;}}return null;},v=function(P,Q,R,S,T){if(R){for(var U=0,V;V=P[U];U++){if(V.id==R){P.splice(U,0,Q);return Q;}if(S&&V[S]){var W=v(V[S],Q,R,S,true);if(W)return W;}}if(T)return null;}P.push(Q);return Q;},w=function(P,Q,R){for(var S=0,T;T=P[S];S++){if(T.id==Q)return P.splice(S,1);if(R&&T[R]){var U=w(T[R],Q,R);if(U)return U;}}return null;},x=function(P,Q){this.dialog=P;var R=Q.contents;for(var S=0,T;T=R[S];S++)R[S]=new y(P,T);i.extend(this,Q);};x.prototype={vz:function(P){return u(this.contents,P);},getButton:function(P){return u(this.buttons,P);},uh:function(P,Q){return v(this.contents,P,Q);},qW:function(P,Q){return v(this.buttons,P,Q);},uP:function(P){w(this.contents,P);},uO:function(P){w(this.buttons,P);}};function y(P,Q){this._={dialog:P};i.extend(this,Q);};y.prototype={eB:function(P){return u(this.elements,P,'children');},add:function(P,Q){return v(this.elements,P,Q,'children');},remove:function(P){w(this.elements,P,'children');}};function z(P){var Q=null,R=null,S=P.getElement().getFirst(),T=P.eY(),U=T.config.dialog_magnetDistance,V=T.skin.margins||[0,0,0,0];if(typeof U=='undefined')U=20;function W(Y){var Z=P.hR(),aa=a.document.getWindow().eR(),aT=Y.data.$.screenX,bm=Y.data.$.screenY,bW=aT-Q.x,eS=bm-Q.y,fv,aP;Q={x:aT,y:bm};R.x+=bW;R.y+=eS;if(R.x+V[3]<U)fv= -V[3];else if(R.x-V[1]>aa.width-Z.width-U)fv=aa.width-Z.width+V[1];else fv=R.x;if(R.y+V[0]<U)aP= -V[0];else if(R.y-V[2]>aa.height-Z.height-U)aP=aa.height-Z.height+V[2];else aP=R.y;P.move(fv,aP,1);Y.data.preventDefault();};function X(Y){a.document.removeListener('mousemove',W);a.document.removeListener('mouseup',X);if(f.ie6Compat){var Z=C.getChild(0).getFrameDocument();Z.removeListener('mousemove',W);Z.removeListener('mouseup',X);}};P.bO.title.on('mousedown',function(Y){Q={x:Y.data.$.screenX,y:Y.data.$.screenY};a.document.on('mousemove',W);a.document.on('mouseup',X);R=P.gz();if(f.ie6Compat){var Z=C.getChild(0).getFrameDocument();Z.on('mousemove',W);Z.on('mouseup',X);}Y.data.preventDefault();},P);};function A(P){var Q=P.dg,R=Q.resizable;if(R==a.DIALOG_RESIZE_NONE)return;var S=P.eY(),T,U,V,W,X,Y;function Z(bW){if(P._.moved&&S.lang.dir=='rtl'){var eS=P._.element.getFirst();eS.setStyle('right',bW+'px');eS.removeStyle('left');}else if(!P._.moved)P.layout();};function aa(bW){X=P.hR();bW=bW.data.$;var eS=P.bO.contents,fv=eS.$.getElementsByTagName('iframe').length;if(fv){Y=k.kE('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');eS.append(Y);}U=X.height-P.bO.contents.hR('height',!(f.gecko||f.opera||g&&f.quirks));T=X.width-P.bO.contents.hR('width',1);W={x:bW.screenX,y:bW.screenY};V=a.document.getWindow().eR();a.document.on('mousemove',aT);a.document.on('mouseup',bm);if(f.ie6Compat){var aP=C.getChild(0).getFrameDocument();aP.on('mousemove',aT);aP.on('mouseup',bm);}bW.preventDefault&&bW.preventDefault();};P.on('load',function(){var bW='';if(R==a.DIALOG_RESIZE_WIDTH)bW=' cke_resizer_horizontal';else if(R==a.DIALOG_RESIZE_HEIGHT)bW=' cke_resizer_vertical';var eS=k.kE('<div class="cke_resizer'+bW+'"'+' title="'+i.htmlEncode(S.lang.resize)+'"></div>');eS.on('mousedown',aa);P.bO.footer.append(eS,1);});S.on('destroy',function(){i.removeFunction(aa);});function aT(bW){var eS=S.lang.dir=='rtl',fv=(bW.data.$.screenX-W.x)*(eS? -1:1),aP=bW.data.$.screenY-W.y,bV=X.width,eN=X.height,gB=bV+fv*(P._.moved?1:2),dX=eN+aP*(P._.moved?1:2),gs=P._.element.getFirst(),am=eS&&gs.getComputedStyle('right'),gP=P.gz();if(am)am=am=='auto'?V.width-(gP.x||0)-gs.hR('width'):parseInt(am,10);if(gP.y+dX>V.height)dX=V.height-gP.y;if((eS?am:gP.x)+gB>V.width)gB=V.width-(eS?am:gP.x);if((R==a.DIALOG_RESIZE_WIDTH||R==a.DIALOG_RESIZE_BOTH)&& !(eS&&fv>0&& !gP.x))bV=Math.max(Q.minWidth||0,gB-T);if(R==a.DIALOG_RESIZE_HEIGHT||R==a.DIALOG_RESIZE_BOTH)eN=Math.max(Q.minHeight||0,dX-U);P.resize(bV,eN);Z(am);bW.data.preventDefault();};function bm(){a.document.removeListener('mouseup',bm);a.document.removeListener('mousemove',aT);if(Y){Y.remove();Y=null;}if(f.ie6Compat){var bW=C.getChild(0).getFrameDocument();bW.removeListener('mouseup',bm);bW.removeListener('mousemove',aT);}if(S.lang.dir=='rtl'){var eS=P._.element.getFirst(),fv=eS.getComputedStyle('left');if(fv=='auto')fv=V.width-parseInt(eS.rd('right'),10)-P.hR().width;else fv=parseInt(fv,10);eS.removeStyle('right');P._.position.x+=1;P.move(fv,P._.position.y);}};};var B,C,D=function(P){var Q=a.document.getWindow();if(!C){var R=P.config.dialog_backgroundCoverColor||'white',S=['<div style="position: ',f.ie6Compat?'absolute':'fixed','; z-index: ',P.config.baseFloatZIndex,'; top: 0px; left: 0px; ',!f.ie6Compat?'background-color: '+R:'','" id="cke_dialog_background_cover">'];if(f.ie6Compat){var T=f.isCustomDomain(),U="<html><body style=\\'background-color:"+R+";\\'></body></html>";S.push('<iframe hp="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');S.push('void((function(){document.open();'+(T?"document.domain='"+document.domain+"';":'')+"document.write( '"+U+"' );"+'document.close();'+'})())');S.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}S.push('</div>');C=k.kE(S.join(''),a.document);}var V=C,W=function(){var aa=Q.eR();V.setStyles({width:aa.width+'px',height:aa.height+'px'});},X=function(){var aa=Q.hV(),aT=a.dialog._.dL;V.setStyles({left:aa.x+'px',top:aa.y+'px'});do{var bm=aT.gz();aT.move(bm.x,bm.y);}while(aT=aT._.ep);};B=W;Q.on('resize',W);W();if(f.ie6Compat){var Y=function(){X();arguments.callee.lw.apply(this,arguments);};Q.$.setTimeout(function(){Y.lw=window.onscroll||(function(){});window.onscroll=Y;},0);X();}var Z=P.config.dialog_backgroundCoverOpacity;V.setOpacity(typeof Z!='undefined'?Z:0.5);V.appendTo(a.document.bH());},E=function(){if(!C)return;var P=a.document.getWindow();C.remove();P.removeListener('resize',B);if(f.ie6Compat)P.$.setTimeout(function(){var Q=window.onscroll&&window.onscroll.lw;window.onscroll=Q||null;},0);B=null;},F={},G=function(P){var Q=P.data.$.ctrlKey||P.data.$.metaKey,R=P.data.$.altKey,S=P.data.$.shiftKey,T=String.fromCharCode(P.data.$.keyCode),U=F[(Q?'bP+':'')+(R?'eJ+':'')+(S?'dy+':'')+T];if(!U|| !U.length)return;U=U[U.length-1];U.keydown&&U.keydown.call(U.bf,U.dialog,U.iK);P.data.preventDefault();},H=function(P){var Q=P.data.$.ctrlKey||P.data.$.metaKey,R=P.data.$.altKey,S=P.data.$.shiftKey,T=String.fromCharCode(P.data.$.keyCode),U=F[(Q?'bP+':'')+(R?'eJ+':'')+(S?'dy+':'')+T];if(!U|| !U.length)return;U=U[U.length-1];if(U.keyup){U.keyup.call(U.bf,U.dialog,U.iK);P.data.preventDefault();}},I=function(P,Q,R,S,T){var U=F[R]||(F[R]=[]);U.push({bf:P,dialog:Q,iK:R,keyup:T||P.eZ,keydown:S||P.iU});},J=function(P){for(var Q in F){var R=F[Q];for(var S=R.length-1;S>=0;S--){if(R[S].dialog==P||R[S].bf==P)R.splice(S,1);}if(R.length===0)delete F[Q];}},K=function(P,Q){if(P._.iX[Q])P.selectPage(P._.iX[Q]);},L=function(P,Q){},M={27:1,13:1},N=function(P){if(P.data.db()in M)P.data.stopPropagation();};(function(){n.dialog={bf:function(P,Q,R,S,T,U,V){if(arguments.length<4)return;var W=(S.call?S(Q):S)||'div',X=['<',W,' '],Y=(T&&T.call?T(Q):T)||{},Z=(U&&U.call?U(Q):U)||{},aa=(V&&V.call?V(P,Q):V)||'',aT=this.oJ=Z.id||i.getNextNumber()+'_uiElement',bm=this.id=Q.id,bW;Z.id=aT;var eS={};if(Q.type)eS['cke_dialog_ui_'+Q.type]=1;if(Q.className)eS[Q.className]=1;var fv=Z['class']&&Z['class'].split?Z['class'].split(' '):[];for(bW=0;bW<fv.length;bW++){if(fv[bW])eS[fv[bW]]=1;}var aP=[];for(bW in eS)aP.push(bW);Z['class']=aP.join(' ');if(Q.title)Z.title=Q.title;var bV=(Q.style||'').split(';');for(bW in Y)bV.push(bW+':'+Y[bW]);if(Q.hidden)bV.push('display:none');for(bW=bV.length-1;bW>=0;bW--){if(bV[bW]==='')bV.splice(bW,1);}if(bV.length>0)Z.style=(Z.style?Z.style+'; ':'')+bV.join('; ');for(bW in Z)X.push(bW+'="'+i.htmlEncode(Z[bW])+'" ');X.push('>',aa,'</',W,'>');R.push(X.join(''));(this._||(this._={})).dialog=P;if(typeof Q.isChanged=='boolean')this.isChanged=function(){return Q.isChanged;};if(typeof Q.isChanged=='function')this.isChanged=Q.isChanged;a.event.du(this);this.nc(Q);if(this.eZ&&this.iU&&Q.accessKey)I(this,P,'bP+'+Q.accessKey);var eN=this;P.on('load',function(){if(eN.getInputElement())eN.getInputElement().on('focus',function(){P._.eC=false;P._.hasFocus=true;eN.oW('focus');},eN);});if(this.eA){this.cQ=P._.eO.push(this)-1;this.on('focus',function(){P._.gu=eN.cQ;});}i.extend(this,Q);},hbox:function(P,Q,R,S,T){if(arguments.length<4)return;this._||(this._={});var U=this._.children=Q,V=T&&T.widths||null,W=T&&T.height||null,X={},Y,Z=function(){var aa=['<tbody><tr class="cke_dialog_ui_hbox">'];for(Y=0;Y<R.length;Y++){var aT='cke_dialog_ui_hbox_child',bm=[];if(Y===0)aT='cke_dialog_ui_hbox_first';if(Y==R.length-1)aT='cke_dialog_ui_hbox_last';aa.push('<td class="',aT,'" ');if(V){if(V[Y])bm.push('width:'+i.cssLength(V[Y]));}else bm.push('width:'+Math.floor(100/R.length)+'%');if(W)bm.push('height:'+i.cssLength(W));if(T&&T.padding!=undefined)bm.push('padding:'+i.cssLength(T.padding));if(bm.length>0)aa.push('style="'+bm.join('; ')+'" ');aa.push('>',R[Y],'</td>');}aa.push('</tr></tbody>');return aa.join('');};n.dialog.bf.call(this,P,T||{type:'hbox'},S,'table',X,T&&T.align&&{align:T.align}||null,Z);},vbox:function(P,Q,R,S,T){if(arguments.length<3)return;this._||(this._={});var U=this._.children=Q,V=T&&T.width||null,W=T&&T.vY||null,X=function(){var Y=['<table cellspacing="0" border="0" '];Y.push('style="');if(T&&T.expand)Y.push('height:100%;');Y.push('width:'+i.cssLength(V||'100%'),';');Y.push('"');Y.push('align="',i.htmlEncode(T&&T.align||(P.eY().lang.dir=='ltr'?'left':'right')),'" ');Y.push('><tbody>');for(var Z=0;Z<R.length;Z++){var aa=[];Y.push('<tr><td ');if(V)aa.push('width:'+i.cssLength(V||'100%'));if(W)aa.push('height:'+i.cssLength(W[Z]));else if(T&&T.expand)aa.push('height:'+Math.floor(100/R.length)+'%');if(T&&T.padding!=undefined)aa.push('padding:'+i.cssLength(T.padding));if(aa.length>0)Y.push('style="',aa.join('; '),'" ');Y.push(' class="cke_dialog_ui_vbox_child">',R[Z],'</td></tr>');}Y.push('</tbody></table>');return Y.join('');};n.dialog.bf.call(this,P,T||{type:'vbox'},S,'div',null,null,X);}};})();n.dialog.bf.prototype={getElement:function(){return a.document.getById(this.oJ);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(P){this.getInputElement().setValue(P);this.oW('change',{value:P});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var S=this;var P=S.getInputElement(),Q=P,R;while((Q=Q.getParent())&&Q.$.className.search('cke_dialog_page_contents')== -1){}if(!Q)return S;R=Q.getAttribute('name');if(S._.dialog._.gx!=R)S._.dialog.selectPage(R);return S;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},nc:function(P){var Q=/^on([A-Z]\w+)/,R,S=function(U,V,W,X){V.on('load',function(){U.getInputElement().on(W,X,U);});};for(var T in P){if(!(R=T.match(Q)))continue;if(this.dm[T])this.dm[T].call(this,this._.dialog,P[T]);else S(this,this._.dialog,R[1].toLowerCase(),P[T]);}return this;},dm:{onLoad:function(P,Q){P.on('load',Q,this);},onShow:function(P,Q){P.on('show',Q,this);},onHide:function(P,Q){P.on('hide',Q,this);}},iU:function(P,Q){this.focus();},eZ:function(P,Q){},disable:function(){var P=this.getInputElement();P.setAttribute('disabled','true');P.addClass('cke_disabled');},enable:function(){var P=this.getInputElement();P.removeAttribute('disabled');P.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},fM:function(){if(!this.isEnabled()|| !this.isVisible())return false;return true;}};n.dialog.hbox.prototype=i.extend(new n.dialog.bf(),{getChild:function(P){var Q=this;if(arguments.length<1)return Q._.children.concat();if(!P.splice)P=[P];if(P.length<2)return Q._.children[P[0]];else return Q._.children[P[0]]&&Q._.children[P[0]].getChild?Q._.children[P[0]].getChild(P.slice(1,P.length)):null;}},true);n.dialog.vbox.prototype=new n.dialog.hbox();(function(){var P={dQ:function(Q,R,S){var T=R.children,U,V=[],W=[];for(var X=0;X<T.length&&(U=T[X]);X++){var Y=[];V.push(Y);W.push(a.dialog._.gv[U.type].dQ(Q,U,Y));}return new n.dialog[R.type](Q,W,V,S,R);}};a.dialog.addUIElement('hbox',P);a.dialog.addUIElement('vbox',P);})();a.rB=function(P){this.ry=P;};a.rB.prototype={exec:function(P){P.openDialog(this.ry);},sG:false};(function(){var P=/^([a]|[^a])+$/,Q=/^\d*$/,R=/^\d*(?:\.\d+)?$/;a.sg=1;a.jb=2;a.dialog.validate={functions:function(){return function(){var Y=this;var S=Y&&Y.getValue?Y.getValue():arguments[0],T=undefined,U=a.jb,V=[],W;for(W=0;W<arguments.length;W++){if(typeof arguments[W]=='function')V.push(arguments[W]);else break;}if(W<arguments.length&&typeof arguments[W]=='string'){T=arguments[W];W++;}if(W<arguments.length&&typeof arguments[W]=='number')U=arguments[W];var X=U==a.jb?true:false;for(W=0;W<V.length;W++){if(U==a.jb)X=X&&V[W](S);else X=X||V[W](S);}if(!X){if(T!==undefined)alert(T);if(Y&&(Y.select||Y.focus))Y.select||Y.focus();return false;}return true;};},regex:function(S,T){return function(){var V=this;var U=V&&V.getValue?V.getValue():arguments[0];if(!S.test(U)){if(T!==undefined)alert(T);if(V&&(V.select||V.focus))if(V.select)V.select();else V.focus();return false;}return true;};},notEmpty:function(S){return this.regex(P,S);},integer:function(S){return this.regex(Q,S);},number:function(S){return this.regex(R,S);},equals:function(S,T){return this.functions(function(U){return U==S;},T);},notEqual:function(S,T){return this.functions(function(U){return U!=S;},T);}};})();function O(P,Q){var R=function(){T(this);Q(this);},S=function(){T(this);},T=function(U){U.removeListener('ok',R);U.removeListener('cancel',S);};P.on('ok',R);P.on('cancel',S);};i.extend(a.application.prototype,{openDialog:function(P,Q,R){var S=a.dialog._.ev[P];if(typeof S=='function'){var T=this._.oB||(this._.oB={}),U=T[P]||(T[P]=new a.dialog(this,P));Q&&Q.call(U,U);U.show();return U;}else if(S=='failed')throw new Error('[CKFINDER.dialog.openDialog] Dialog "'+P+'" failed when loading dg.');var V=a.document.bH(),W=V.$.style.cursor,X=this;V.setStyle('cursor','wait');a.ec.load(a.getUrl(S),function(){if(typeof a.dialog._.ev[P]!='function')a.dialog._.ev[P]='failed';X.openDialog(P,Q);V.setStyle('cursor',W);},null,null,R);return null;},hs:function(P,Q,R,S){var T=this;setTimeout(function(){T.cg.openDialog('Input',function(U){U.show();U.setTitle(P||T.lang.common.inputTitle);U.getContentElement('tab1','msg').getElement().setHtml(Q);U.getContentElement('tab1','input').setValue(R);O(U,function(V){var W=V.getContentElement('tab1','input').getValue();S(W);});});},0);},msgDialog:function(P,Q,R){var S=this;setTimeout(function(){S.cg.openDialog('Msg',function(T){T.show();T.setTitle(P||S.lang.common.messageTitle);T.getContentElement('tab1','msg').getElement().setHtml(Q);R&&O(T,function(U){R();});});},0);},fe:function(P,Q,R){var S=this;setTimeout(function(){S.cg.openDialog('Confirm',function(T){T.show();T.setTitle(P||S.lang.common.confirmationTitle);T.getContentElement('tab1','msg').getElement().setHtml(Q);O(T,function(U){R();});});},0);}});m.add('dialog',{bM:['dialogui'],onLoad:function(){a.dialog.add('Confirm',function(P){return{title:P.lang.common.confirmationTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]};});a.dialog.add('Msg',function(P){return{title:P.lang.common.messageTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'}]}],buttons:[CKFinder.dialog.okButton]};});a.dialog.add('Input',function(P){return{title:P.lang.common.inputTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'},{type:'text',id:'input'}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]};});}});})();m.add('dialogui');(function(){var p=function(w){var z=this;z._||(z._={});z._['default']=z._.hq=w['default']||'';var x=[z._];for(var y=1;y<arguments.length;y++)x.push(arguments[y]);x.push(true);i.extend.apply(i,x);return z._;},q={dQ:function(w,x,y){return new n.dialog.ju(w,x,y);}},r={dQ:function(w,x,y){return new n.dialog[x.type](w,x,y);}},s={isChanged:function(){return this.getValue()!=this.lu();},reset:function(){this.setValue(this.lu());},jW:function(){this._.hq=this.getValue();},ki:function(){this._.hq=this._['default'];},lu:function(){return this._.hq;}},t=i.extend({},n.dialog.bf.prototype.dm,{onChange:function(w,x){if(!this._.pL){w.on('load',function(){this.getInputElement().on('change',function(){this.oW('change',{value:this.getValue()});},this);},this);this._.pL=true;}this.on('change',x);}},true),u=/^on([A-Z]\w+)/,v=function(w){for(var x in w){if(u.test(x)||x=='title'||x=='type')delete w[x];}return w;};i.extend(n.dialog,{dD:function(w,x,y,z){if(arguments.length<4)return;var A=p.call(this,x);A.hz=i.getNextNumber()+'_label';var B=this._.children=[],C=function(){var D=[];if(x.uC!='horizontal')D.push('<div class="cke_dialog_ui_labeled_label" id="',A.hz,'" >',x.label,'</div>','<div class="cke_dialog_ui_labeled_content">',z(w,x),'</div>');else{var E={type:'hbox',widths:x.widths,padding:0,children:[{type:'html',html:'<span class="cke_dialog_ui_labeled_label" id="'+A.hz+'">'+i.htmlEncode(x.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+z(w,x)+'</span>'}]};a.dialog._.gv.hbox.dQ(w,E,D);}return D.join('');};n.dialog.bf.call(this,w,x,y,'div',null,null,C);},ju:function(w,x,y){if(arguments.length<3)return;p.call(this,x);var z=this._.le=i.getNextNumber()+'_textInput',A={'class':'cke_dialog_ui_input_'+x.type,id:z,type:'text'},B;if(x.validate)this.validate=x.validate;if(x.maxLength)A.uy=x.maxLength;if(x.size)A.size=x.size;var C=this,D=false;w.on('load',function(){C.getInputElement().on('keydown',function(F){if(F.data.db()==13)D=true;});C.getInputElement().on('keyup',function(F){if(F.data.db()==13&&D){w.getButton('ok')&&setTimeout(function(){w.getButton('ok').click();},0);D=false;}},null,null,1000);});var E=function(){var F=['<div class="cke_dialog_ui_input_',x.type,'"'];if(x.width)F.push('style="width:'+x.width+'" ');F.push('><input ');for(var G in A)F.push(G+'="'+A[G]+'" ');F.push(' /></div>');return F.join('');};n.dialog.dD.call(this,w,x,y,E);},textarea:function(w,x,y){if(arguments.length<3)return;p.call(this,x);var z=this,A=this._.le=i.getNextNumber()+'_textarea',B={};if(x.validate)this.validate=x.validate;B.rows=x.rows||5;B.cols=x.cols||20;var C=function(){var D=['<div class="cke_dialog_ui_input_textarea"><textarea class="cke_dialog_ui_input_textarea" id="',A,'" '];for(var E in B)D.push(E+'="'+i.htmlEncode(B[E])+'" ');D.push('>',i.htmlEncode(z._['default']),'</textarea></div>');return D.join('');};n.dialog.dD.call(this,w,x,y,C);},checkbox:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x,{'default': ! !x['default']});if(x.validate)this.validate=x.validate;var A=function(){var B=i.extend({},x,{id:x.id?x.id+'_checkbox':i.getNextNumber()+'_checkbox'},true),C=[],D={'class':'cke_dialog_ui_checkbox_input',type:'checkbox'};v(B);if(x['default'])D.checked='checked';z.checkbox=new n.dialog.bf(w,B,C,'input',null,D);C.push(' <label for="',D.id,'">',i.htmlEncode(x.label),'</label>');return C.join('');};n.dialog.bf.call(this,w,x,y,'span',null,null,A);},radio:function(w,x,y){if(arguments.length<3)return;p.call(this,x);if(!this._['default'])this._['default']=this._.hq=x.items[0][1];if(x.validate)this.validate=x.sh;var z=[],A=this,B=function(){var C=[],D=[],E={'class':'cke_dialog_ui_radio_item'},F=x.id?x.id+'_radio':i.getNextNumber()+'_radio';for(var G=0;G<x.items.length;G++){var H=x.items[G],I=H[2]!==undefined?H[2]:H[0],J=H[1]!==undefined?H[1]:H[0],K=i.extend({},x,{id:i.getNextNumber()+'_radio_input',title:null,type:null},true),L=i.extend({},K,{id:null,title:I},true),M={type:'radio','class':'cke_dialog_ui_radio_input',name:F,value:J},N=[];if(A._['default']==J)M.checked='checked';v(K);v(L);z.push(new n.dialog.bf(w,K,N,'input',null,M));N.push(' ');new n.dialog.bf(w,L,N,'label',null,{'for':M.id},H[0]);C.push(N.join(''));}new n.dialog.hbox(w,[],C,D);return D.join('');};n.dialog.dD.call(this,w,x,y,B);this._.children=z;},button:function(w,x,y){if(!arguments.length)return;if(typeof x=='function')x=x(w.eY());p.call(this,x,{disabled:x.disabled||false});a.event.du(this);var z=this;w.on('load',function(B){var C=this.getElement();(function(){C.on('click',function(D){z.oW('click',{dialog:z.getDialog()});D.data.preventDefault();});})();C.unselectable();},this);var A=i.extend({},x);delete A.style;n.dialog.bf.call(this,w,A,y,'a',null,{style:x.style,href:'javascript:void(0)',title:x.label,hp:'true','class':x['class']},'<span class="cke_dialog_ui_button">'+i.htmlEncode(x.label)+'</span>');},select:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x);if(x.validate)this.validate=x.validate;var A=function(){var B=i.extend({},x,{id:x.id?x.id+'_select':i.getNextNumber()+'_select'},true),C=[],D=[],E={'class':'cke_dialog_ui_input_select'};if(x.size!=undefined)E.size=x.size;if(x.multiple!=undefined)E.multiple=x.multiple;v(B);for(var F=0,G;F<x.items.length&&(G=x.items[F]);F++)D.push('<option value="',i.htmlEncode(G[1]!==undefined?G[1]:G[0]),'" /> ',i.htmlEncode(G[0]));z.select=new n.dialog.bf(w,B,C,'select',null,E,D.join(''));return C.join('');};n.dialog.dD.call(this,w,x,y,A);},file:function(w,x,y){if(arguments.length<3)return;if(x['default']===undefined)x['default']='';var z=i.extend(p.call(this,x),{dg:x,buttons:[]});if(x.validate)this.validate=x.validate;var A=function(){z.gL=i.getNextNumber()+'_fileInput';var B=f.isCustomDomain(),C=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',z.gL,'" title="',x.label,'" src="javascript:void('];C.push(B?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');C.push(')"></iframe>');return C.join('');};w.on('load',function(){var B=a.document.getById(z.gL),C=B.getParent();C.addClass('cke_dialog_ui_input_file');});n.dialog.dD.call(this,w,x,y,A);},fileButton:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x),A=this;if(x.validate)this.validate=x.validate;var B=i.extend({},x),C=B.onClick;B.className=(B.className?B.className+' ':'')+'cke_dialog_ui_button';B.onClick=function(D){var E=x['for'];if(!C||C.call(this,D)!==false){w.getContentElement(E[0],E[1]).submit();this.disable();}};w.on('load',function(){w.getContentElement(x['for'][0],x['for'][1])._.buttons.push(A);});n.dialog.button.call(this,w,B,y);},html:(function(){var w=/^\s*<[\w:]+\s+([^>]*)?>/,x=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,y=/\/$/;return function(z,A,B){if(arguments.length<3)return;var C=[],D,E=A.html,F,G;if(E.charAt(0)!='<')E='<span>'+E+'</span>';if(A.focus){var H=this.focus;this.focus=function(){H.call(this);A.focus.call(this);this.oW('focus');};if(A.fM){var I=this.fM;this.fM=I;}this.eA=true;}n.dialog.bf.call(this,z,A,C,'span',null,null,'');D=C.join('');F=D.match(w);G=E.match(x)||['','',''];if(y.test(G[1])){G[1]=G[1].slice(0,-1);G[2]='/'+G[2];}B.push([G[1],' ',F[1]||'',G[2]].join(''));};})()},true);n.dialog.html.prototype=new n.dialog.bf();n.dialog.dD.prototype=i.extend(new n.dialog.bf(),{rW:function(w){var x=a.document.getById(this._.hz);if(x.iu()<1)new h.text(w,a.document).appendTo(x);else x.getChild(0).$.nodeValue=w;return this;},vt:function(){var w=a.document.getById(this._.hz);if(!w||w.iu()<1)return '';else return w.getChild(0).getText();},dm:t},true);n.dialog.button.prototype=i.extend(new n.dialog.bf(),{click:function(){var w=this;if(!w._.disabled)return w.oW('click',{dialog:w._.dialog});w.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var w=this.getElement();w&&w.removeClass('disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},dm:i.extend({},n.dialog.bf.prototype.dm,{onClick:function(w,x){this.on('click',x);}},true),eZ:function(){this.click();},iU:function(){this.focus();},eA:true},true);n.dialog.ju.prototype=i.extend(new n.dialog.dD(),{getInputElement:function(){return a.document.getById(this._.le);},focus:function(){var w=this.selectParentTab();setTimeout(function(){var x=w.getInputElement();x&&x.$.focus();},0);},select:function(){var w=this.selectParentTab();setTimeout(function(){var x=w.getInputElement();if(x){x.$.focus();x.$.select();}},0);},eZ:function(){this.select();},setValue:function(w){w=w!==null?w:'';return n.dialog.bf.prototype.setValue.call(this,w);},eA:true},s,true);n.dialog.textarea.prototype=new n.dialog.ju();n.dialog.select.prototype=i.extend(new n.dialog.dD(),{getInputElement:function(){return this._.select.getElement();},add:function(w,x,y){var z=new k('option',this.getDialog().eY().document),A=this.getInputElement().$;z.$.text=w;z.$.value=x===undefined||x===null?w:x;if(y===undefined||y===null){if(g)A.add(z.$);else A.add(z.$,null);}else A.add(z.$,y);return this;},remove:function(w){var x=this.getInputElement().$;x.remove(w);return this;},clear:function(){var w=this.getInputElement().$;while(w.length>0)w.remove(0);return this;},eA:true},s,true);n.dialog.checkbox.prototype=i.extend(new n.dialog.bf(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(w){this.getInputElement().$.checked=w;this.oW('change',{value:w});},getValue:function(){return this.getInputElement().$.checked;},eZ:function(){this.setValue(!this.getValue());},dm:{onChange:function(w,x){if(!g)return t.onChange.apply(this,arguments);else{w.on('load',function(){var y=this._.checkbox.getElement();y.on('propertychange',function(z){z=z.data.$;if(z.propertyName=='checked')this.oW('change',{value:y.$.checked});},this);},this);this.on('change',x);}return null;}},eA:true},s,true);n.dialog.radio.prototype=i.extend(new n.dialog.bf(),{setValue:function(w){var x=this._.children,y;for(var z=0;z<x.length&&(y=x[z]);z++)y.getElement().$.checked=y.getValue()==w;this.oW('change',{value:w});},getValue:function(){var w=this._.children;for(var x=0;x<w.length;x++){if(w[x].getElement().$.checked)return w[x].getValue();}return null;},eZ:function(){var w=this._.children,x;for(x=0;x<w.length;x++){if(w[x].getElement().$.checked){w[x].getElement().focus();return;}}w[0].getElement().focus();},dm:{onChange:function(w,x){if(!g)return t.onChange.apply(this,arguments);else{w.on('load',function(){var y=this._.children,z=this;for(var A=0;A<y.length;A++){var B=y[A].getElement();B.on('propertychange',function(C){C=C.data.$;if(C.propertyName=='checked'&&this.$.checked)z.oW('change',{value:this.getAttribute('value')});});}},this);this.on('change',x);}return null;}},eA:true},s,true);n.dialog.file.prototype=i.extend(new n.dialog.dD(),s,{getInputElement:function(){var w=a.document.getById(this._.gL).getFrameDocument();return w.$.forms.length>0?new k(w.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},vy:function(w){return this.getInputElement().getParent().$.action;},reset:function(){var w=a.document.getById(this._.gL),x=w.getFrameDocument(),y=this._.dg,z=this._.buttons;function A(){x.$.open();if(f.isCustomDomain())x.$.domain=document.domain;var B='';if(y.size)B=y.size-(g?7:0);x.$.write(['<html><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" action="',i.htmlEncode(y.action),'">','<input type="file" name="',i.htmlEncode(y.id||'cke_upload'),'" size="',i.htmlEncode(B>0?B:''),'" />','</form>','</body></html>'].join(''));x.$.close();for(var C=0;C<z.length;C++)z[C].enable();};if(f.gecko)setTimeout(A,500);else A();},getValue:function(){return '';},dm:t,eA:true},true);n.dialog.fileButton.prototype=new n.dialog.button();a.dialog.addUIElement('text',q);a.dialog.addUIElement('password',q);a.dialog.addUIElement('textarea',r);a.dialog.addUIElement('checkbox',r);a.dialog.addUIElement('radio',r);a.dialog.addUIElement('button',r);a.dialog.addUIElement('select',r);a.dialog.addUIElement('file',r);a.dialog.addUIElement('fileButton',r);a.dialog.addUIElement('html',r);i.extend(CKFinder.dialog,a.dialog);})();(function(){m.add('help',{bM:['toolbar','button'],bz:function q(p){if(!p.config.disableHelpButton){p.bD('help',{exec:function(r){r.aG['filesview.filesview'][0].bn().focus();window.open(a.basePath+'help/'+(r.lang.HelpLang||'en')+'/index.html');}});p.bY.add('Help',a.UI_BUTTON,{label:p.lang.Help,command:'help'});}}});})();a.skins.add('kama',(function(){var p=['images/loaders/16x16.gif','images/loaders/32x32.gif','images/ckffolder.gif','images/ckffolderopened.gif'];if(g&&f.version<7)p.push('images/sprites_ie6.png');return{ls:p,application:{css:['app.css']},host:{qx:1,css:['host.css']},mA:7,kN:7,ps:1,bz:function(q){if(q.config.width&& !isNaN(q.config.width))q.config.width-=12;var r=[],s='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(f.webkit){s=s.split('}').slice(0,-1);for(var t=0;t<s.length;t++)s[t]=s[t].split('{');}function u(x){var y=x.eD().append('style');y.setAttribute('id','cke_ui_color');y.setAttribute('type','text/css');return y;};function v(x,y,z){var A,B,C;for(var D=0;D<x.length;D++){if(f.webkit){for(B=0;B<x[D].$.sheet.rules.length;B++)x[D].$.sheet.removeRule(B);for(B=0;B<y.length;B++){C=y[B][1];for(A=0;A<z.length;A++)C=C.replace(z[A][0],z[A][1]);x[D].$.sheet.addRule(y[B][0],C);}}else{C=y;for(A=0;A<z.length;A++)C=C.replace(z[A][0],z[A][1]);if(g)x[D].$.styleSheet.cssText=C;else x[D].setHtml(C);}}};var w=/\$color/g;i.extend(q,{uiColor:null,rk:function(){return this.uiColor;},setUiColor:function(x){var y,z,A=u(a.oC),B=u(this.document),C='.cke_'+q.name.replace('.','\\.'),D=[C+' .cke_wrapper',C+'_dialog .cke_dialog_contents',C+'_dialog a.cke_dialog_tab',C+'_dialog .cke_dialog_footer'].join(','),E='background-color: $color !important;';if(f.webkit){y=[[D,E]];z=[['body,'+D,E]];}else{y=D+'{'+E+'}';z='body,'+D+'{'+E+'}';}return(this.setUiColor=function(F){var G=[[w,F]];q.uiColor=F;v([A],y,G);v([B],z,G);v(r,s,G);})(x);}});q.on('menuShow',function(x){var y=x.data[0],z=y.element.eG('iframe').getItem(0).getFrameDocument();if(!z.getById('cke_ui_color')){var A=u(z);r.push(A);var B=q.rk();if(B)v([A],s,[[w,B]]);}});if(q.config.uiColor)q.on('uiReady',function(){q.setUiColor(q.config.uiColor);});}};})());(function(){a.dialog?p():a.on('dialogPluginReady',p);function p(){a.dialog.on('resize',function(q){var r=q.data,s=r.width,t=r.height,u=r.dialog,v=u.bO.contents;if(r.skin!='kama')return;v.setStyles({width:s+'px',height:t+'px'});setTimeout(function(){var w=u.bO.dialog.getChild([0,0,0]),x=w.getChild(0),y=w.getChild(2);y.setStyle('width',x.$.offsetWidth+'px');y=w.getChild(7);y.setStyle('width',x.$.offsetWidth-28+'px');y=w.getChild(4);y.setStyle('height',x.$.offsetHeight-31-14+'px');y=w.getChild(5);y.setStyle('height',x.$.offsetHeight-31-14+'px');},100);});};})();a.skins.add('v1',(function(){var p=['images/loaders/16x16.gif','images/loaders/32x32.gif','images/ckffolder.gif','images/ckffolderopened.gif'];if(g&&f.version<7)p.push('images/sprites_ie6.png');return{ls:p,application:{css:['app.css']},ps:1,rv: -8,kN:0,host:{qx:1,css:['host.css']}};})());(function(){a.dialog?p():a.on('dialogPluginReady',p);function p(){a.dialog.on('resize',function(q){var r=q.data,s=r.width,t=r.height,u=r.dialog,v=u.bO.contents;if(r.skin!='v1')return;v.setStyles({width:s+'px',height:t+'px'});setTimeout(function(){var w=u.bO.dialog.getChild([0,0,0]),x=w.getChild(0),y=w.getChild(2);y.setStyle('width',x.$.offsetWidth+'px');y=w.getChild(7);y.setStyle('width',x.$.offsetWidth-28+'px');y=w.getChild(4);y.setStyle('height',x.$.offsetHeight-31-14+'px');y=w.getChild(5);y.setStyle('height',x.$.offsetHeight-31-14+'px');},100);});};})();a.gc.add('default',(function(){return{dQ:function(p){var q=p.name,r=p.element,s=p.ff;if(!r||s==a.kZ)return;p.layout=new a.application.layout(p);var t=p.oW('themeSpace',{space:'head',html:''}),u=p.oW('themeSpace',{space:'sidebar',html:''}),v=p.oW('themeSpace',{space:'mainTop',html:''}),w=p.oW('themeSpace',{space:'mainMiddle',html:''}),x=p.oW('themeSpace',{space:'mainBottom',html:''}),y='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="'+p.lang.LangCode+'" dir="'+p.lang.dir+'">'+'<head>'+'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />'+t.html+'</head>'+'<body>'+(f.ie6Compat?'<div id="ckfinder" role="application">':'<div id="ckfinder" role="application" style="visibility: hidden">')+'<!-- 1. CKE Skin class. -->'+'<div class="fake_wrapper cke_skin_'+(p.config.skin||'kama')+'">'+'<!-- 2. High contrast class. -->'+'<div class="fake_wrapper"><!-- Applicable: hc cke_hc -->'+'<!-- 3. Browser class. -->'+'<div class="fake_wrapper '+f.cssClass+'">'+'<!-- 4. RTL class. -->'+'<div class="fake_wrapper"><!-- Applicable: rtl cke_rtl -->'+'<!-- 5. Layout class. -->'+'<div class="fake_wrapper">'+'<div id="ckfinder_view" class="columns_2"><!-- Applicable: columns_1 columns_2 -->'+'<div id="sidebar_container" class="container" role="region">'+'<div id="sidebar_wrapper" class="wrapper">'+u.html+'</div>'+'</div>'+'<div id="main_container" class="container" role="region">'+v.html+w.html+x.html+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</body>'+'</html>';a.log('[THEME] DOM flush using document.write');p.document.$.write(y);function z(){if(f.ie6Compat)p.layout.oG=p.document.getWindow().eR();};p.cr('themeLoaded');p.cr('uiReady',function(){z();p.cr('appReady',function(){z();if(f.ie8){var A=p.document.$,B;if(A.documentMode)B=A.documentMode;else{B=5;if(A.compatMode)if(A.compatMode=='CSS1Compat')B=7;}if(B<8){var C='<strong style="color: red;">Forced IE compatibility mode! CKFinder may not look as intended.</strong>',D=p.plugins.tools;D.showTool(D.addTool(C));}}if(f.ie6Compat)p.document.getWindow().on('resize',z);p.document.getWindow().on('resize',function(){p.layout.ea.call(p.layout);});var E;function F(){E=E||p.document.eD().eG('link').getItem(0);var G=0;if(E)try{if(E.$.sheet&&E.$.sheet.cssRules.length>0)G=1;else if(E.$.styleSheet&&E.$.styleSheet.cssText.length>0)G=1;else if(E.$.innerHTML&&E.$.innerHTML.length>0)G=1;}catch(H){}if(!G){window.setTimeout(F,250);return;}if(f.ie6Compat){z();p.layout.ea();setTimeout(function(){p.layout.ea();},500);}else{p.layout.ea(true);setTimeout(function(){p.document.getById('ckfinder').removeStyle('visibility');});}return undefined;};F();});});},pu:function(p){var q=i.getNextNumber(),r=k.kE(['<div class="cke_compatibility cke_'+p.name.replace('.','\\.')+'_dialog cke_skin_',p.gd,'" dir="',p.lang.dir,'" lang="',p.langCode,'"><table class="cke_dialog',' '+f.cssClass.replace(/browser/g,'cke_browser'),' cke_',p.lang.dir,'" style="position:absolute"><tr><td><div class="%body"><div id="%title#" class="%title"></div><div id="%close_button#" class="%close_button"><span>X</span></div><div id="%tabs#" class="%tabs"></div><table class="%contents"><tr><td id="%contents#" class="%contents"></td></tr></table><div id="%footer#" class="%footer"></div></div><div id="%tl#" class="%tl"></div><div id="%tc#" class="%tc"></div><div id="%tr#" class="%tr"></div><div id="%ml#" class="%ml"></div><div id="%mr#" class="%mr"></div><div id="%bl#" class="%bl"></div><div id="%bc#" class="%bc"></div><div id="%br#" class="%br"></div></td></tr></table>',g?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+q).replace(/%/g,'cke_dialog_'),a.document),s=r.getChild([0,0,0,0,0]),t=s.getChild(0),u=s.getChild(1);t.unselectable();u.unselectable();return{element:r,bO:{dialog:r.getChild(0),title:t,close:u,tabs:s.getChild(2),contents:s.getChild([3,0,0,0]),footer:s.getChild(4)}};},fH:function(p){var q=p.container,r=p.ia;if(q)q.remove();for(var s=0;r&&s<r.length;s++)r[s].remove();if(p.ff==a.fc){p.element.show();delete p.element;}}};})());a.application.prototype.vU=function(p){var q=''+p,r=this._[q]||(this._[q]=a.document.getById(q+'_'+this.name));return r;};a.application.prototype.nJ=function(p){var q=/^\d+$/;if(q.test(p))p+='px';var r=this.layout.dV();r.setStyle('width',p);this.oW('resize');this.layout.ea();};a.application.prototype.resize=function(p,q){this.element.getChild(0).setStyle('height',q+'px');this.element.getChild(0).setStyle('width',p+'px');};(function(){var p="\074\144\151\166\040\143\154\x61\x73\163\x3d\047\166\151\x65\167\040\x74\157\157\154\137\x70\x61\x6e\x65\x6c\x27\x20\163\164\x79\154\x65\075\047\160\x61\144\144\151\156\x67\072\x32\160\170\073\x64\x69\163\x70\x6c\141\171\x3a\x62\154\157\143\x6b\x20\x21\x69\x6d\x70\x6f\x72\164\141\x6e\164\073\160\157\x73\x69\x74\151\x6f\x6e\x3a\163\164\x61\164\x69\143\040\x21\151\155\160\157\x72\164\141\x6e\164\073\x63\157\x6c\157\162\072\142\x6c\x61\143\x6b\x20\041\x69\x6d\x70\x6f\x72\164\141\x6e\x74\073\142\141\x63\x6b\147\162\x6f\x75\x6e\144\x2d\143\x6f\154\157\162\072\x77\x68\151\164\145\x20\x21\151\155\160\x6f\162\x74\x61\156\x74\x3b\x27\076",q="\074\057\144\151\x76\x3e",r=p+"\124\x68\x69\x73\040\x69\x73\040\164\x68\145\040\x44\x45\115\x4f\x20\166\145\162\163\151\x6f\156\x20\x6f\146\x20\x43\x4b\106\x69\156\144\145\x72\056\040\x50\154\x65\x61\x73\145\x20\166\151\x73\x69\164\040\164\x68\x65\040\x3c\141\x20\x68\x72\145\146\x3d\x27\x68\164\x74\160\072\x2f\x2f\143\153\146\151\156\144\145\x72\056\143\157\155\047\x20\164\141\x72\x67\145\x74\075\047\137\x62\154\141\156\153\047\076\x43\113\106\151\156\x64\145\x72\x20\x77\x65\142\040\163\x69\x74\x65\x3c\057\x61\076\040\x74\x6f\x20\x6f\x62\164\141\x69\x6e\040\x61\x20\x76\141\x6c\151\x64\x20\x6c\x69\143\x65\x6e\163\x65\056"+q,s=p+"\x43\x4b\x46\x69\x6e\x64\145\162\x20\104\x65\x76\x65\154\x6f\160\x65\162\040\x4c\x69\x63\145\156\x73\145\x3c\142\162\x2f\x3e\x4c\x69\143\x65\x6e\x73\145\x64\x20\164\157\x3a\x20";function t(v,w){var x=0,y=0;for(var z=0;z<v.$.parentNode.childNodes.length;z++){var A=v.$.parentNode.childNodes[z];if(A.nodeType==1){var B=A==v.$;if(!A.offsetHeight&& !B)continue;y++;if(!B)x+=A.offsetHeight;}}var C=v.$.offsetHeight-v.$.clientHeight,D=(y-1)*w;if(f.ie6Compat&& !f.ie8&& !f.ie7Compat)D+=w*2;var E=g?v.$.parentNode.parentNode.parentNode.offsetHeight:v.$.parentNode.offsetHeight,F=E-C-x-(D||0);try{v.setStyle('height',F+'px');}catch(G){}};function u(v){return a.bs.substr(v*9%(2<<4),1);};a.application.layout=function(v){this.app=r.length?v:null;this.jB=null;};a.application.layout.prototype={ea:function(v){if(this.jB)return;this.jB=i.setTimeout(function(){a.log('[THEME] Repainting layout');var w=a.bs.indexOf(a.bF.substr(1,1))%5,x=[a.bF.substr(8,1),a.bF.substr(6,1)],y=a.bF&&a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1),z= ! !a.ed&&x[1]!=u(a.ed.length+a.bs.indexOf(x[0]));if(a.bF&&1==w&&a.lS(window.top[a.nd+"\x63\x61\164\151\157\156"][a.jG+"\x73\x74"])!=a.lS(a.ed)||w==4||y){var A=this.dV().getChild(0).getChildren(),B=0;for(var C=0;C<A.count();C++){if(A.getItem(C).rd("\160\157\163\151\164\151\157\x6e")=="\x73\164\141\164\151\143")B=1;}if(!B)this.dV().getChild(0).appendHtml(y||z||w!=4?r:s+"\x3c\x62\076"+i.htmlEncode(a.ed)+"\x3c\057\x62\076\074\057\144\151\x76\076");}var D=this.pn(),E=this.pS(),F=a.skins.loaded[this.app.gd];if(F.ps&&g&&f.ie6Compat&& !f.ie8){var G=this.mB(),H=this.dV(),I=3*F.kN,J=F.rv?F.rv:0,K=this.oG.width-H.$.offsetWidth-I+J;G.setStyle('width',K+'px');}if(D)t(D,F.mA);if(E)t(E,F.kN);this.jB=null;v=false;this.app.oW('afterRepaintLayout');if(f.ie6Compat)i.setTimeout(function(){this.app.element.$.style.cssText+='';},0,this);},v===true?0:500,this);},dV:function(){var v=this;if(!v.kS)v.kS=v.app.document.getById('sidebar_container');return v.kS;},mB:function(){var v=this;if(!v.lb)v.lb=v.app.document.getById('main_container');return v.lb;},pS:function(){var v=this;if(typeof v.kK==='undefined')v.kK=v.app.document.getById('folders_view');return v.kK;},pn:function(){var v=this;if(typeof v.kD==='undefined')v.kD=v.app.document.getById('files_view');return v.kD;}};})();})(); 